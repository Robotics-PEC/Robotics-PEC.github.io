(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5465],{301:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>f});var t=s(7876),i=s(4232),l=s(7041),r=s(457),n=s(4725),c=s(345),d=s(5104),o=s(2671),m=s(3022),h=s(1354),u=s(727),x=s(3410),g=s(8860),p=s(612);let j={id:"",firstName:"",lastName:"",role:"",image:""},f=()=>{let{toast:e}=(0,n.dj)(),[a,s]=(0,i.useState)([]),[f,N]=(0,i.useState)(j),[v,b]=(0,i.useState)(null),[w,y]=(0,i.useState)("");(0,i.useEffect)(()=>{let e=localStorage.getItem("teamMembersData");if(e)try{s(JSON.parse(e))}catch(e){console.error("Failed to parse saved team members data:",e)}(async()=>{s(await (0,g.fP)())})()},[]);let S=async()=>{if(!f.firstName||!f.lastName||!f.role||!f.image){e({title:"Error",description:"All Fields are required",variant:"destructive"});return}let{error:a}=await (0,g.dr)(f,w);a?e({title:a.name,description:a.message,variant:"destructive"}):e({title:"Success",description:"Team Member has been Added"}),s(e=>[...e,{...f}]),N(j)},A=async()=>{if(!v)return;s(e=>e.map(e=>e.id===v?f:e));let a=await (0,g.jy)(f,w);f.image="https://bkbmdjdypixbskuvrkxi.supabase.co/storage/v1/object/public/media/team/".concat(w),N(j),b(null),a?e({title:a.name,description:a.message,variant:"destructive"}):e({title:"Success",description:"Team Member has been Updated"})},E=async e=>{y(e.image.split("/").pop()),e.image=await (0,p.W6)(e.image),N(e),b(e.id)},C=async a=>{s(e=>e.filter(e=>e.id!==a.id)),204==(await (0,g.ly)(a)).status?e({title:"Member Removed Successfully",description:"".concat(a.firstName," ").concat(a.lastName," was successfully deleted")}):e({title:"Member Couldn't be deleted",description:"".concat(a.firstName," ").concat(a.lastName," unable to be deleted")}),v===a.id&&(b(null),N(j))};return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)(u.Zp,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-4",children:v?"Edit Team Member":"Add New Team Member"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)(x.A,{id:"firstName",htmlFor:"firstName",onChange:N,placeholder:"First Name",value:f.firstName,title:"First Name",type:"TEXT"}),(0,t.jsx)(x.A,{id:"lastName",htmlFor:"lastName",onChange:N,placeholder:"Last Name",value:f.lastName,title:"Last Name",type:"TEXT"})]}),(0,t.jsx)(x.A,{id:"image",htmlFor:"image",onChange:N,placeholder:"Upload your image",value:f.role,title:"Upload your Image",type:"IMAGE",setFileName:y}),(0,t.jsx)(x.A,{id:"role",htmlFor:"role",onChange:N,placeholder:"Website Head",value:f.role,title:"Role",type:"TEXT"}),v?(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(l.$,{onClick:A,className:"flex-1",children:[(0,t.jsx)(c.A,{className:"h-4 w-4 mr-2"})," Update Member"]}),(0,t.jsx)(l.$,{variant:"destructive",onClick:()=>{b(null),N(j)},children:"Cancel"})]}):(0,t.jsxs)(l.$,{onClick:S,className:"w-full",children:[(0,t.jsx)(d.A,{className:"h-4 w-4 mr-2"})," Add Team Member"]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-medium",children:"Current Team Members"}),0===a.length?(0,t.jsx)("p",{className:"text-gray-500 italic",children:"No team members added yet."}):(0,t.jsx)(r.nD,{type:"single",collapsible:!0,className:"w-full",children:a.map(e=>(0,t.jsxs)(r.As,{value:e.id,children:[(0,t.jsx)(r.$m,{children:(0,t.jsxs)("div",{className:"flex justify-between items-center w-full pr-4",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(o.A,{className:"h-4 w-4 mr-2 text-gray-500"}),(0,t.jsxs)("span",{children:[e.firstName," ",e.lastName]})]}),(0,t.jsx)("span",{className:"text-sm text-gray-500 mr-4",children:e.role})]})}),(0,t.jsx)(r.ub,{children:(0,t.jsxs)("div",{className:"p-4 space-y-4",children:[(0,t.jsx)("div",{className:"flex gap-4",children:e.image&&(0,t.jsx)("img",{src:e.image,alt:"".concat(e.firstName," ").concat(e.lastName),className:"w-24 h-24 object-cover rounded-full"})}),(0,t.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,t.jsxs)(l.$,{size:"sm",variant:"outline",onClick:()=>E(e),children:[(0,t.jsx)(m.A,{className:"h-4 w-4 mr-1"})," Edit"]}),(0,t.jsxs)(l.$,{size:"sm",variant:"destructive",onClick:()=>C(e),children:[(0,t.jsx)(h.A,{className:"h-4 w-4 mr-1"})," Delete"]})]})]})})]},e.id))}),(0,t.jsxs)(l.$,{onClick:()=>{localStorage.setItem("teamMembersData",JSON.stringify(a)),e({title:"Changes saved",description:"Team members have been updated successfully."})},className:"w-full mt-4",children:[(0,t.jsx)(c.A,{className:"h-4 w-4 mr-2"})," Save All Changes"]})]})]})}},2817:(e,a,s)=>{"use strict";s.d(a,{A:()=>l});var t=s(7876),i=s(4522);let l=e=>{let{title:a,subtitle:s,children:l}=e;return(0,t.jsxs)("div",{className:"container mx-auto px-6",children:[(0,t.jsxs)(i.P.div,{className:"text-center mb-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,t.jsx)("h1",{className:"text-5xl font-medium mb-4",children:a}),(0,t.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:s})]}),(0,t.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mb-16",children:l})]})}},4574:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/page",function(){return s(5076)}])},5076:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>_});var t=s(7876),i=s(4232),l=s(4522),r=s(7041),n=s(1592),c=s(612);let d=n.bL,o=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(n.B8,{ref:a,className:(0,c.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...i})});o.displayName=n.B8.displayName;let m=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(n.l9,{ref:a,className:(0,c.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...i})});m.displayName=n.l9.displayName;let h=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(n.UC,{ref:a,className:(0,c.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...i})});h.displayName=n.UC.displayName;var u=s(727),x=s(4725),g=s(8230),p=s.n(g),j=s(1340),f=s(5390),N=s(3654),v=s(7396),b=s(9142),w=s(5806),y=s(8244),S=s(993),A=s(5881),E=s(301),C=s(7341),k=s(2898),P=s(2817);let T=()=>{let{toast:e}=(0,x.dj)(),[a,s]=(0,i.useState)("hero");return(0,t.jsxs)(C.A,{isAdmin:!0,children:[(0,t.jsx)(k.A,{title:"Robotics Society | Punjab Engineering College",description:"PEC Robotics Society at Punjab Engineering College is dedicated to innovation in robotics and automation. Explore our projects and join our team."}),(0,t.jsx)("section",{className:"py-24",id:"events",children:(0,t.jsx)(P.A,{title:"Admin Dashboard",subtitle:"Manage website content",children:(0,t.jsx)("div",{className:"min-h-screen bg-white p-6",children:(0,t.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-6xl mx-auto",children:[(0,t.jsxs)(d,{defaultValue:"hero",value:a,onValueChange:s,className:"w-full mb-12",children:[(0,t.jsx)("div",{className:"overflow-x-auto pb-2",children:(0,t.jsxs)(o,{className:"mb-8",children:[(0,t.jsxs)(m,{value:"hero",className:"flex items-center gap-2",children:[(0,t.jsx)(j.A,{className:"h-4 w-4"})," Hero Section"]}),(0,t.jsxs)(m,{value:"projects",className:"flex items-center gap-2",children:[(0,t.jsx)(f.A,{className:"h-4 w-4"})," Projects"]}),(0,t.jsxs)(m,{value:"activities",className:"flex items-center gap-2",children:[(0,t.jsx)(f.A,{className:"h-4 w-4"})," Activities"]}),(0,t.jsxs)(m,{value:"events",className:"flex items-center gap-2",children:[(0,t.jsx)(N.A,{className:"h-4 w-4"})," Events"]}),(0,t.jsxs)(m,{value:"team",className:"flex items-center gap-2",children:[(0,t.jsx)(v.A,{className:"h-4 w-4"})," Team"]})]})}),(0,t.jsxs)(u.Zp,{className:"shadow-md",children:[(0,t.jsxs)(u.aR,{children:[(0,t.jsxs)(u.ZB,{children:["hero"===a&&"Hero Section Editor","projects"===a&&"Projects Editor","activities"===a&&"Activities Editor","events"===a&&"Events Editor","team"===a&&"Team Members Editor"]}),(0,t.jsxs)(u.BT,{children:["hero"===a&&"Edit the main heading, text and background images","projects"===a&&"Add, edit or remove projects","activities"===a&&"Manage robotics activities and workshops","events"===a&&"Add or edit upcoming events and competitions","team"===a&&"Manage team members and their information"]})]}),(0,t.jsxs)(u.Wu,{children:[(0,t.jsx)(h,{value:"hero",className:"mt-0",children:(0,t.jsx)(w.default,{})}),(0,t.jsx)(h,{value:"projects",className:"mt-0",children:(0,t.jsx)(y.default,{})}),(0,t.jsx)(h,{value:"activities",className:"mt-0",children:(0,t.jsx)(S.default,{})}),(0,t.jsx)(h,{value:"events",className:"mt-0",children:(0,t.jsx)(A.default,{})}),(0,t.jsx)(h,{value:"team",className:"mt-0",children:(0,t.jsx)(E.default,{})})]})]})]}),(0,t.jsxs)("div",{className:"mt-8",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Preview Pages"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsx)(u.Zp,{className:"hover:shadow-md transition-shadow",children:(0,t.jsxs)(u.Wu,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Activities Page"}),(0,t.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"View all robotics activities and workshops."}),(0,t.jsx)(r.$,{asChild:!0,variant:"outline",className:"w-full",children:(0,t.jsxs)(p(),{href:"/activities",target:"_blank",children:[(0,t.jsx)(b.A,{className:"h-4 w-4 mr-2"}),"View Page"]})})]})}),(0,t.jsx)(u.Zp,{className:"hover:shadow-md transition-shadow",children:(0,t.jsxs)(u.Wu,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Events Page"}),(0,t.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"View upcoming events and competitions."}),(0,t.jsx)(r.$,{asChild:!0,variant:"outline",className:"w-full",children:(0,t.jsxs)(p(),{href:"/events",target:"_blank",children:[(0,t.jsx)(b.A,{className:"h-4 w-4 mr-2"}),"View Page"]})})]})}),(0,t.jsx)(u.Zp,{className:"hover:shadow-md transition-shadow",children:(0,t.jsxs)(u.Wu,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Team Page"}),(0,t.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"View all team members and their profiles."}),(0,t.jsx)(r.$,{asChild:!0,variant:"outline",className:"w-full",children:(0,t.jsxs)(p(),{href:"/team",target:"_blank",children:[(0,t.jsx)(b.A,{className:"h-4 w-4 mr-2"}),"View Page"]})})]})})]})]})]})})})})]})};var M=s(7438),F=s(5263);let _=()=>{let[e,a]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let e=async()=>{let{data:{session:e}}=await F.S.auth.getSession();e&&a(!0)};F.S.auth.onAuthStateChange((e,a)=>{"SIGNED_OUT"===e&&localStorage.clear()}),e()},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k.A,{title:"Robotics Society of PEC Admin",description:"You are in full control"}),e?(0,t.jsx)(T,{}):(0,t.jsx)(M.default,{})]})}},5806:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>N});var t=s(7876),i=s(4232),l=s(7041),r=s(4587),n=s.n(r),c=s(53),d=s(4725),o=s(1354),m=s(345),h=s(5495),u=s(2436),x=s(6461),g=s(3125),p=s(3410);let j={heading:"",description:""},f={image1:"",image2:"",image3:""},N=()=>{let[e,a]=(0,i.useState)(!0),[s,r]=(0,i.useState)(j),[N,v]=(0,i.useState)([]),[b,w]=(0,i.useState)(f),[y,S]=(0,i.useState)(""),[A,E]=(0,i.useState)(""),[C,k]=(0,i.useState)("");(0,i.useEffect)(()=>{(async()=>{let e=await (0,h.ts)("hero");r(await (0,x.z)()),v(e),a(!1)})()},[]);let{toast:P}=(0,d.dj)(),T=async e=>{let a=0;for(let[e,s]of Object.entries(b))s&&a++;let s=(await (0,h.ts)(e)).map(e=>e.split("/").pop());for(let t=0;t<a;t++)await (0,h.vS)(["".concat(e,"/").concat(s[t])]);b.image1&&await (0,h.V6)(e,y,b.image1),b.image2&&await (0,h.V6)(e,A,b.image2),b.image3&&await (0,h.V6)(e,C,b.image3),P({title:"Success",description:"Uploaded all the images successfully"})},M=async()=>{let e=await (0,x.z)();if(e.heading==s.heading&&e.description==s.description&&""==y&&""==A&&""==C){P({title:"Error",description:"Please make some changes",variant:"destructive"});return}await T("hero");let a=await (0,x.a)(s);if(a){P({title:"Error",description:a.message,variant:"destructive"});return}P({title:"Success",description:"Hero data updated successfully"}),location.reload()},F=e=>{};return(0,t.jsx)(u.a,{isLoading:e,children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(p.A,{id:"heading",title:"Heading",htmlFor:"heading",onChange:r,placeholder:"Enter Heading",type:"TEXT",value:s.heading}),(0,t.jsx)(p.A,{id:"description",title:"Description",htmlFor:"description",onChange:r,placeholder:"Enter Description",type:"TEXT",value:s.description}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(c.J,{children:"Background Images"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:h-[260px] h-[1000px]",children:N.map((e,a)=>(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)("div",{className:"relative w-full h-full",children:(0,t.jsx)(n(),{src:e,alt:"Background ".concat(a+1),fill:!0,className:"object-contain"})}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-md",children:(0,t.jsxs)(l.$,{variant:"destructive",size:"sm",onClick:()=>F(a),children:[(0,t.jsx)(o.A,{className:"h-4 w-4 mr-1"})," Remove"]})})]},a))}),(0,t.jsxs)("div",{className:"grid gap-2 grid-cols-1 md:grid-cols-3",children:[(0,t.jsx)(g.A,{id:"image1",onChange:w,setFileName:S}),(0,t.jsx)(g.A,{id:"image2",onChange:w,setFileName:E}),(0,t.jsx)(g.A,{id:"image3",onChange:w,setFileName:k})]})]}),(0,t.jsxs)(l.$,{onClick:M,className:"mt-6 w-full",size:"lg",children:[(0,t.jsx)(m.A,{className:"h-4 w-4 mr-2"})," Save Changes"]})]})})}},6461:(e,a,s)=>{"use strict";s.d(a,{a:()=>l,z:()=>i});var t=s(5263);let i=async()=>{let{data:e,error:a}=await t.S.from("hero").select("*").eq("id","e32e2ff0-8a37-4b44-aded-db033dc95333");if(a&&console.log(a),!e)throw Error("Could not fetch data for hero section");return{heading:e[0].heading,description:e[0].description}},l=async e=>{let{error:a}=await t.S.from("hero").update(e).eq("id","e32e2ff0-8a37-4b44-aded-db033dc95333");return a?(console.log(a),a):null}},7438:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>m});var t=s(7876);s(4232);var i=s(5851),l=s(2885),r=s(7041),n=s(4522),c=s(9099),d=s(7341),o=s(2898);let m=()=>{let e=(0,c.useRouter)();return(0,t.jsxs)(d.A,{children:[(0,t.jsx)(o.A,{title:"Oops",description:"Return to Homepage"}),(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,t.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md p-8 mx-4 bg-white rounded-xl shadow-lg text-center",children:[(0,t.jsx)(n.P.div,{initial:{scale:.8},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:10,delay:.2},className:"mx-auto mb-6 w-24 h-24 flex items-center justify-center bg-amber-100 rounded-full",children:(0,t.jsx)(i.A,{className:"w-12 h-12 text-amber-500"})}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-3",children:"Oops!"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"It seems you've wandered to the wrong page. Don't worry, it happens to the best of us!"}),(0,t.jsx)(n.P.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,t.jsxs)(r.$,{onClick:()=>e.push("/"),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2 rounded-lg flex items-center justify-center gap-2 mx-auto",children:[(0,t.jsx)(l.A,{className:"w-4 h-4"}),"Return to Home"]})})]})})]})}},8860:(e,a,s)=>{"use strict";s.d(a,{dr:()=>c,fP:()=>r,jy:()=>o,ly:()=>d});var t=s(5263),i=s(5495),l=s(612);let r=async()=>{let{data:e,error:a}=await t.S.from("team").select("*");if(a&&console.log(a),!e)throw Error("Could not fetch Team Members");return JSON.parse(JSON.stringify(e))},n=async e=>{let{data:a,error:s}=await t.S.from("team").select().eq("id",e);if(s&&console.log(s),!a)throw Error("Project with this id doesn't exist");return JSON.parse(JSON.stringify(a[0]))},c=async(e,a)=>{await (0,i.V6)("team",a,e.image);let{data:s}=t.S.storage.from("media").getPublicUrl("team/".concat(a)),{id:l,...r}=e,{error:n}=await t.S.from("team").insert({...r,image:s.publicUrl});return n?(console.log(n),{error:n}):{error:null}},d=async e=>(await (0,i.vS)(["projects/".concat(e.image.split("/").pop())]),await t.S.from("team").delete().eq("id",e.id)),o=async(e,a)=>{let s=await n(e.id);await (0,i.vS)(["team/".concat(s.image.split("/").pop())]);let{id:r,...c}=e;if(!await (0,i.V6)("team",a,e.image))return Error("Image Upload Failed");let{data:d}=t.S.storage.from("media").getPublicUrl("team/".concat(a)),{error:o}=await t.S.from("team").update({...c,image:d.publicUrl}).eq("id",e.id);if(o){let e=await (0,l.W6)(s.image);await (0,i.V6)("projects",s.image.split("/").pop(),e),console.log(o)}return o}}},e=>{var a=a=>e(e.s=a);e.O(0,[5352,6361,3466,4522,4587,8230,4052,1875,9546,6991,3564,4775,3579,1216,2669,5881,993,8244,636,6593,8792],()=>a(4574)),_N_E=e.O()}]);