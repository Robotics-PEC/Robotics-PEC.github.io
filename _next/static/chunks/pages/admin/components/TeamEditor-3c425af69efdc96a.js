(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9139],{301:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>w});var r=t(7876),s=t(4232),i=t(7041),l=t(457),n=t(4725),o=t(345),c=t(5104),d=t(2671),m=t(3022),u=t(1354),p=t(727),f=t(3410),h=t(8860),g=t(3951);let x={id:"",firstName:"",lastName:"",role:"",image:"",category:""},w=()=>{let{toast:e}=(0,n.dj)(),[a,t]=(0,s.useState)([]),[w,y]=(0,s.useState)(x),[v,b]=(0,s.useState)(null),[N,j]=(0,s.useState)("");(0,s.useEffect)(()=>{let e=localStorage.getItem("teamMembersData");if(e)try{t(JSON.parse(e))}catch(e){console.error("Failed to parse saved team members data:",e)}(async()=>{t(await (0,h.fP)())})()},[]);let A=async()=>{if(!w.firstName||!w.lastName||!w.role||!w.image){e({title:"Error",description:"All Fields are required",variant:"destructive"});return}let{error:a}=await (0,h.dr)(w,N);a?e({title:a.name,description:a.message,variant:"destructive"}):e({title:"Success",description:"Team Member has been Added"}),t(e=>[...e,{...w}]),y(x)},C=async()=>{if(!v)return;t(e=>e.map(e=>e.id===v?w:e));let a=await (0,h.jy)(w,N);w.image="https://bkbmdjdypixbskuvrkxi.supabase.co/storage/v1/object/public/media/team/".concat(N),y(x),b(null),a?e({title:a.name,description:a.message,variant:"destructive"}):e({title:"Success",description:"Team Member has been Updated"})},S=async e=>{j(e.image.split("/").pop()),e.image=await (0,g.W6)(e.image),y(e),b(e.id)},k=async a=>{t(e=>e.filter(e=>e.id!==a.id)),204==(await (0,h.ly)(a)).status?e({title:"Member Removed Successfully",description:"".concat(a.firstName," ").concat(a.lastName," was successfully deleted")}):e({title:"Member Couldn't be deleted",description:"".concat(a.firstName," ").concat(a.lastName," unable to be deleted")}),v===a.id&&(b(null),y(x))};return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)(p.Zp,{className:"p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-4",children:v?"Edit Team Member":"Add New Team Member"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(f.A,{id:"firstName",htmlFor:"firstName",onChange:y,placeholder:"First Name",value:w.firstName,title:"First Name",type:"TEXT"}),(0,r.jsx)(f.A,{id:"lastName",htmlFor:"lastName",onChange:y,placeholder:"Last Name",value:w.lastName,title:"Last Name",type:"TEXT"})]}),(0,r.jsx)(f.A,{id:"image",htmlFor:"image",onChange:y,placeholder:"Upload your image",value:w.role,title:"Upload your Image",type:"IMAGE",setFileName:j}),(0,r.jsx)(f.A,{id:"role",htmlFor:"role",onChange:y,placeholder:"Website Head",value:w.role,title:"Role",type:"TEXT"}),(0,r.jsx)(f.A,{id:"category",htmlFor:"category",onChange:y,placeholder:"Website Head",value:w.category,title:"Category",type:"CATEGORY"}),v?(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(i.$,{onClick:C,className:"flex-1",children:[(0,r.jsx)(o.A,{className:"h-4 w-4 mr-2"})," Update Member"]}),(0,r.jsx)(i.$,{variant:"destructive",onClick:()=>{b(null),y(x)},children:"Cancel"})]}):(0,r.jsxs)(i.$,{onClick:A,className:"w-full",children:[(0,r.jsx)(c.A,{className:"h-4 w-4 mr-2"})," Add Team Member"]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium",children:"Current Team Members"}),0===a.length?(0,r.jsx)("p",{className:"text-gray-500 italic",children:"No team members added yet."}):(0,r.jsx)(l.nD,{type:"single",collapsible:!0,className:"w-full",children:a.map(e=>(0,r.jsxs)(l.As,{value:e.id,children:[(0,r.jsx)(l.$m,{children:(0,r.jsxs)("div",{className:"flex justify-between items-center w-full pr-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(d.A,{className:"h-4 w-4 mr-2 text-gray-500"}),(0,r.jsxs)("span",{children:[e.firstName," ",e.lastName]})]}),(0,r.jsx)("span",{className:"text-sm text-gray-500 mr-4",children:e.role})]})}),(0,r.jsx)(l.ub,{children:(0,r.jsxs)("div",{className:"p-4 space-y-4",children:[(0,r.jsx)("div",{className:"flex gap-4",children:e.image&&(0,r.jsx)("img",{src:e.image,alt:"".concat(e.firstName," ").concat(e.lastName),className:"w-24 h-24 object-cover rounded-full"})}),(0,r.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,r.jsxs)(i.$,{size:"sm",variant:"outline",onClick:()=>S(e),children:[(0,r.jsx)(m.A,{className:"h-4 w-4 mr-1"})," Edit"]}),(0,r.jsxs)(i.$,{size:"sm",variant:"destructive",onClick:()=>k(e),children:[(0,r.jsx)(u.A,{className:"h-4 w-4 mr-1"})," Delete"]})]})]})})]},e.id))}),(0,r.jsxs)(i.$,{onClick:()=>{localStorage.setItem("teamMembersData",JSON.stringify(a)),e({title:"Changes saved",description:"Team members have been updated successfully."})},className:"w-full mt-4",children:[(0,r.jsx)(o.A,{className:"h-4 w-4 mr-2"})," Save All Changes"]})]})]})}},457:(e,a,t)=>{"use strict";t.d(a,{$m:()=>d,As:()=>c,nD:()=>o,ub:()=>m});var r=t(7876),s=t(4232),i=t(8221),l=t(822),n=t(3951);let o=i.bL,c=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(i.q7,{ref:a,className:(0,n.cn)("border-b",t),...s})});c.displayName="AccordionItem";let d=s.forwardRef((e,a)=>{let{className:t,children:s,...o}=e;return(0,r.jsx)(i.Y9,{className:"flex",children:(0,r.jsxs)(i.l9,{ref:a,className:(0,n.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...o,children:[s,(0,r.jsx)(l.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});d.displayName=i.l9.displayName;let m=s.forwardRef((e,a)=>{let{className:t,children:s,...l}=e;return(0,r.jsx)(i.UC,{ref:a,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...l,children:(0,r.jsx)("div",{className:(0,n.cn)("pb-4 pt-0",t),children:s})})});m.displayName=i.UC.displayName},2671:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(1713).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},3022:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(1713).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},4966:(e,a,t)=>{"use strict";t.d(a,{jH:()=>i});var r=t(4232);t(7876);var s=r.createContext(void 0);function i(e){let a=r.useContext(s);return e||a||"ltr"}},5104:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(1713).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5495:(e,a,t)=>{"use strict";t.d(a,{Se:()=>c,V6:()=>n,VM:()=>p,jW:()=>d,ts:()=>l,vS:()=>o,xp:()=>u});var r=t(3951),s=t(5263);let i=async e=>{let{data:a,error:t}=await s.S.storage.from("media").list(e);return t?(console.log(t),[]):null==a?void 0:a.map(e=>e.name)},l=async e=>{let a=await i(e),t=[];for(let r=0;r<a.length;r++){let{data:i}=s.S.storage.from("media").getPublicUrl("".concat(e,"/").concat(a[r]));t.push(i.publicUrl)}return t},n=async(e,a,t)=>{let i=a.split(".")[a.split(".").length-1],l="image/".concat(i),n=t.replace(/^data:image\/\w+;base64,/,""),o=(0,r.i)(n,l),c="".concat(e,"/").concat(a),{data:d,error:m}=await s.S.storage.from("media").upload(c,o,{contentType:l,upsert:!0});return m&&console.log(m),d},o=async e=>{let{data:a,error:t}=await s.S.storage.from("media").remove(e);if(t){console.log(t);return}return a},c=async(e,a)=>{let{data:t,error:r}=await s.S.storage.from("media").download("markdown/".concat(a,"/").concat(e.split(".")[0],"/").concat(e));return r?(console.log(r),null):await t.text()},d=async(e,a,t)=>{let i="text/markdown",l=new File([(0,r.OO)(t)],e,{type:i});await s.S.storage.from("media").upload("markdown/".concat(a,"/").concat(e.split(".")[0],"/").concat(e),l,{contentType:i,upsert:!0})},m=async e=>{let a=[],{data:t,error:r}=await s.S.storage.from("media").list(e,{limit:1e3});if(r)return console.error("Error listing files:",r),[];for(let r of t){var i;if(r.name&&(null===(i=r.metadata)||void 0===i?void 0:i.mimetype)!=="inode/directory"&&a.push("".concat(e?e+"/":"").concat(r.name)),r.name&&null===r.metadata){let t="".concat(e?e+"/":"").concat(r.name),s=await m(t);a.push(...s)}}return a},u=async(e,a)=>{let t=await m("markdown/".concat(a,"/").concat(e));if(t.length>0){let{data:e,error:a}=await s.S.storage.from("media").remove(t);if(a){console.log(a);return}return e}throw Error('No files in the folder "markdown/'.concat(a,"/").concat(e,'"'))},p=async(e,a)=>{let{data:t,error:r}=await s.S.storage.from("media").remove(["markdown/".concat(a,"/").concat(e.split(".")[0],"/").concat(e)]);if(r){console.log(r);return}return t}},8221:(e,a,t)=>{"use strict";t.d(a,{nD:()=>U,ub:()=>ee,As:()=>X,$m:()=>Z,UC:()=>el,Y9:()=>es,q7:()=>er,bL:()=>et,l9:()=>ei});var r=t(4232),s=t(1844),i=t(8775),l=t(714),n=t(3716),o=t(8162),c=t(6326),d=t(1285),m=t(6822),u=t(294),p=t(7876),f="Collapsible",[h,g]=(0,s.A)(f),[x,w]=h(f),y=r.forwardRef((e,a)=>{let{__scopeCollapsible:t,open:s,defaultOpen:i,disabled:l,onOpenChange:n,...d}=e,[m=!1,f]=(0,o.i)({prop:s,defaultProp:i,onChange:n});return(0,p.jsx)(x,{scope:t,disabled:l,contentId:(0,u.B)(),open:m,onOpenToggle:r.useCallback(()=>f(e=>!e),[f]),children:(0,p.jsx)(c.sG.div,{"data-state":C(m),"data-disabled":l?"":void 0,...d,ref:a})})});y.displayName=f;var v="CollapsibleTrigger",b=r.forwardRef((e,a)=>{let{__scopeCollapsible:t,...r}=e,s=w(v,t);return(0,p.jsx)(c.sG.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":C(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:a,onClick:(0,n.m)(e.onClick,s.onOpenToggle)})});b.displayName=v;var N="CollapsibleContent",j=r.forwardRef((e,a)=>{let{forceMount:t,...r}=e,s=w(N,e.__scopeCollapsible);return(0,p.jsx)(m.C,{present:t||s.open,children:({present:e})=>(0,p.jsx)(A,{...r,ref:a,present:e})})});j.displayName=N;var A=r.forwardRef((e,a)=>{let{__scopeCollapsible:t,present:s,children:i,...n}=e,o=w(N,t),[m,u]=r.useState(s),f=r.useRef(null),h=(0,l.s)(a,f),g=r.useRef(0),x=g.current,y=r.useRef(0),v=y.current,b=o.open||m,j=r.useRef(b),A=r.useRef(void 0);return r.useEffect(()=>{let e=requestAnimationFrame(()=>j.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,d.N)(()=>{let e=f.current;if(e){A.current=A.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let a=e.getBoundingClientRect();g.current=a.height,y.current=a.width,j.current||(e.style.transitionDuration=A.current.transitionDuration,e.style.animationName=A.current.animationName),u(s)}},[o.open,s]),(0,p.jsx)(c.sG.div,{"data-state":C(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!b,...n,ref:h,style:{"--radix-collapsible-content-height":x?`${x}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:b&&i})});function C(e){return e?"open":"closed"}var S=t(4966),k="Accordion",R=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[E,T,_]=(0,i.N)(k),[I,M]=(0,s.A)(k,[_,g]),O=g(),U=r.forwardRef((e,a)=>{let{type:t,...r}=e;return(0,p.jsx)(E.Provider,{scope:e.__scopeAccordion,children:"multiple"===t?(0,p.jsx)(H,{...r,ref:a}):(0,p.jsx)(q,{...r,ref:a})})});U.displayName=k;var[D,F]=I(k),[P,$]=I(k,{collapsible:!1}),q=r.forwardRef((e,a)=>{let{value:t,defaultValue:s,onValueChange:i=()=>{},collapsible:l=!1,...n}=e,[c,d]=(0,o.i)({prop:t,defaultProp:s,onChange:i});return(0,p.jsx)(D,{scope:e.__scopeAccordion,value:c?[c]:[],onItemOpen:d,onItemClose:r.useCallback(()=>l&&d(""),[l,d]),children:(0,p.jsx)(P,{scope:e.__scopeAccordion,collapsible:l,children:(0,p.jsx)(L,{...n,ref:a})})})}),H=r.forwardRef((e,a)=>{let{value:t,defaultValue:s,onValueChange:i=()=>{},...l}=e,[n=[],c]=(0,o.i)({prop:t,defaultProp:s,onChange:i}),d=r.useCallback(e=>c((a=[])=>[...a,e]),[c]),m=r.useCallback(e=>c((a=[])=>a.filter(a=>a!==e)),[c]);return(0,p.jsx)(D,{scope:e.__scopeAccordion,value:n,onItemOpen:d,onItemClose:m,children:(0,p.jsx)(P,{scope:e.__scopeAccordion,collapsible:!0,children:(0,p.jsx)(L,{...l,ref:a})})})}),[G,J]=I(k),L=r.forwardRef((e,a)=>{let{__scopeAccordion:t,disabled:s,dir:i,orientation:o="vertical",...d}=e,m=r.useRef(null),u=(0,l.s)(m,a),f=T(t),h="ltr"===(0,S.jH)(i),g=(0,n.m)(e.onKeyDown,e=>{if(!R.includes(e.key))return;let a=e.target,t=f().filter(e=>!e.ref.current?.disabled),r=t.findIndex(e=>e.ref.current===a),s=t.length;if(-1===r)return;e.preventDefault();let i=r,l=s-1,n=()=>{(i=r+1)>l&&(i=0)},c=()=>{(i=r-1)<0&&(i=l)};switch(e.key){case"Home":i=0;break;case"End":i=l;break;case"ArrowRight":"horizontal"===o&&(h?n():c());break;case"ArrowDown":"vertical"===o&&n();break;case"ArrowLeft":"horizontal"===o&&(h?c():n());break;case"ArrowUp":"vertical"===o&&c()}let d=i%s;t[d].ref.current?.focus()});return(0,p.jsx)(G,{scope:t,disabled:s,direction:i,orientation:o,children:(0,p.jsx)(E.Slot,{scope:t,children:(0,p.jsx)(c.sG.div,{...d,"data-orientation":o,ref:u,onKeyDown:s?void 0:g})})})}),z="AccordionItem",[V,W]=I(z),X=r.forwardRef((e,a)=>{let{__scopeAccordion:t,value:r,...s}=e,i=J(z,t),l=F(z,t),n=O(t),o=(0,u.B)(),c=r&&l.value.includes(r)||!1,d=i.disabled||e.disabled;return(0,p.jsx)(V,{scope:t,open:c,disabled:d,triggerId:o,children:(0,p.jsx)(y,{"data-orientation":i.orientation,"data-state":ea(c),...n,...s,ref:a,disabled:d,open:c,onOpenChange:e=>{e?l.onItemOpen(r):l.onItemClose(r)}})})});X.displayName=z;var B="AccordionHeader",Y=r.forwardRef((e,a)=>{let{__scopeAccordion:t,...r}=e,s=J(k,t),i=W(B,t);return(0,p.jsx)(c.sG.h3,{"data-orientation":s.orientation,"data-state":ea(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:a})});Y.displayName=B;var K="AccordionTrigger",Z=r.forwardRef((e,a)=>{let{__scopeAccordion:t,...r}=e,s=J(k,t),i=W(K,t),l=$(K,t),n=O(t);return(0,p.jsx)(E.ItemSlot,{scope:t,children:(0,p.jsx)(b,{"aria-disabled":i.open&&!l.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...n,...r,ref:a})})});Z.displayName=K;var Q="AccordionContent",ee=r.forwardRef((e,a)=>{let{__scopeAccordion:t,...r}=e,s=J(k,t),i=W(Q,t),l=O(t);return(0,p.jsx)(j,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...l,...r,ref:a,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});function ea(e){return e?"open":"closed"}ee.displayName=Q;var et=U,er=X,es=Y,ei=Z,el=ee},8860:(e,a,t)=>{"use strict";t.d(a,{Ar:()=>m,dr:()=>o,fP:()=>l,jy:()=>d,ly:()=>c});var r=t(5263),s=t(5495),i=t(3951);let l=async()=>{let{data:e,error:a}=await r.S.from("team").select("*");if(a&&console.log(a),!e)throw Error("Could not fetch Team Members");return JSON.parse(JSON.stringify(e))},n=async e=>{let{data:a,error:t}=await r.S.from("team").select().eq("id",e);if(t&&console.log(t),!a)throw Error("Team member with this id doesn't exist");return JSON.parse(JSON.stringify(a[0]))},o=async(e,a)=>{await (0,s.V6)("team",a,e.image);let{data:t}=r.S.storage.from("media").getPublicUrl("team/".concat(a)),{id:i,...l}=e,{error:n}=await r.S.from("team").insert({...l,image:t.publicUrl});return n?(console.log(n),{error:n}):{error:null}},c=async e=>(await (0,s.vS)(["projects/".concat(e.image.split("/").pop())]),await r.S.from("team").delete().eq("id",e.id)),d=async(e,a)=>{let t=await n(e.id);await (0,s.vS)(["team/".concat(t.image.split("/").pop())]);let{id:l,...o}=e;if(!await (0,s.V6)("team",a,e.image))return Error("Image Upload Failed");let{data:c}=r.S.storage.from("media").getPublicUrl("team/".concat(a)),{error:d}=await r.S.from("team").update({...o,image:c.publicUrl}).eq("id",e.id);if(d){let e=await (0,i.W6)(t.image);await (0,s.V6)("projects",t.image.split("/").pop(),e),console.log(d)}return d},m=async e=>{let{data:a,error:t}=await r.S.from("team").select("*").eq("category",e);if(t&&console.log(t),!a)throw Error("Team with this category doesn't exist");return a}},9216:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/components/TeamEditor",function(){return t(301)}])}},e=>{var a=a=>e(e.s=a);e.O(0,[5352,6361,1875,9546,3564,8203,2669,3410,636,6593,8792],()=>a(9216)),_N_E=e.O()}]);