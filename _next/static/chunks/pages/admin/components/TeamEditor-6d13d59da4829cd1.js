(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9139],{301:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>x});var r=t(7876),s=t(4232),i=t(7041),n=t(457),l=t(4725),o=t(345),c=t(5104),d=t(2671),m=t(3022),u=t(1354),p=t(727),f=t(3410),h=t(8860),g=t(612);let v={id:"",firstName:"",lastName:"",role:"",image:""},x=()=>{let{toast:e}=(0,l.dj)(),[a,t]=(0,s.useState)([]),[x,b]=(0,s.useState)(v),[y,w]=(0,s.useState)(null),[N,j]=(0,s.useState)("");(0,s.useEffect)(()=>{let e=localStorage.getItem("teamMembersData");if(e)try{t(JSON.parse(e))}catch(e){console.error("Failed to parse saved team members data:",e)}(async()=>{t(await (0,h.fP)())})()},[]);let A=async()=>{if(!x.firstName||!x.lastName||!x.role||!x.image){e({title:"Error",description:"All Fields are required",variant:"destructive"});return}let{error:a}=await (0,h.dr)(x,N);a?e({title:a.name,description:a.message,variant:"destructive"}):e({title:"Success",description:"Team Member has been Added"}),t(e=>[...e,{...x}]),b(v)},k=async()=>{if(!y)return;t(e=>e.map(e=>e.id===y?x:e));let a=await (0,h.jy)(x,N);x.image="https://bkbmdjdypixbskuvrkxi.supabase.co/storage/v1/object/public/media/team/".concat(N),b(v),w(null),a?e({title:a.name,description:a.message,variant:"destructive"}):e({title:"Success",description:"Team Member has been Updated"})},C=async e=>{j(e.image.split("/").pop()),e.image=await (0,g.W6)(e.image),b(e),w(e.id)},S=async a=>{t(e=>e.filter(e=>e.id!==a.id)),204==(await (0,h.ly)(a)).status?e({title:"Member Removed Successfully",description:"".concat(a.firstName," ").concat(a.lastName," was successfully deleted")}):e({title:"Member Couldn't be deleted",description:"".concat(a.firstName," ").concat(a.lastName," unable to be deleted")}),y===a.id&&(w(null),b(v))};return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)(p.Zp,{className:"p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-4",children:y?"Edit Team Member":"Add New Team Member"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(f.A,{id:"firstName",htmlFor:"firstName",onChange:b,placeholder:"First Name",value:x.firstName,title:"First Name",type:"TEXT"}),(0,r.jsx)(f.A,{id:"lastName",htmlFor:"lastName",onChange:b,placeholder:"Last Name",value:x.lastName,title:"Last Name",type:"TEXT"})]}),(0,r.jsx)(f.A,{id:"image",htmlFor:"image",onChange:b,placeholder:"Upload your image",value:x.role,title:"Upload your Image",type:"IMAGE",setFileName:j}),(0,r.jsx)(f.A,{id:"role",htmlFor:"role",onChange:b,placeholder:"Website Head",value:x.role,title:"Role",type:"TEXT"}),y?(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(i.$,{onClick:k,className:"flex-1",children:[(0,r.jsx)(o.A,{className:"h-4 w-4 mr-2"})," Update Member"]}),(0,r.jsx)(i.$,{variant:"destructive",onClick:()=>{w(null),b(v)},children:"Cancel"})]}):(0,r.jsxs)(i.$,{onClick:A,className:"w-full",children:[(0,r.jsx)(c.A,{className:"h-4 w-4 mr-2"})," Add Team Member"]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium",children:"Current Team Members"}),0===a.length?(0,r.jsx)("p",{className:"text-gray-500 italic",children:"No team members added yet."}):(0,r.jsx)(n.nD,{type:"single",collapsible:!0,className:"w-full",children:a.map(e=>(0,r.jsxs)(n.As,{value:e.id,children:[(0,r.jsx)(n.$m,{children:(0,r.jsxs)("div",{className:"flex justify-between items-center w-full pr-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(d.A,{className:"h-4 w-4 mr-2 text-gray-500"}),(0,r.jsxs)("span",{children:[e.firstName," ",e.lastName]})]}),(0,r.jsx)("span",{className:"text-sm text-gray-500 mr-4",children:e.role})]})}),(0,r.jsx)(n.ub,{children:(0,r.jsxs)("div",{className:"p-4 space-y-4",children:[(0,r.jsx)("div",{className:"flex gap-4",children:e.image&&(0,r.jsx)("img",{src:e.image,alt:"".concat(e.firstName," ").concat(e.lastName),className:"w-24 h-24 object-cover rounded-full"})}),(0,r.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,r.jsxs)(i.$,{size:"sm",variant:"outline",onClick:()=>C(e),children:[(0,r.jsx)(m.A,{className:"h-4 w-4 mr-1"})," Edit"]}),(0,r.jsxs)(i.$,{size:"sm",variant:"destructive",onClick:()=>S(e),children:[(0,r.jsx)(u.A,{className:"h-4 w-4 mr-1"})," Delete"]})]})]})})]},e.id))}),(0,r.jsxs)(i.$,{onClick:()=>{localStorage.setItem("teamMembersData",JSON.stringify(a)),e({title:"Changes saved",description:"Team members have been updated successfully."})},className:"w-full mt-4",children:[(0,r.jsx)(o.A,{className:"h-4 w-4 mr-2"})," Save All Changes"]})]})]})}},457:(e,a,t)=>{"use strict";t.d(a,{$m:()=>d,As:()=>c,nD:()=>o,ub:()=>m});var r=t(7876),s=t(4232),i=t(8221),n=t(822),l=t(612);let o=i.bL,c=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(i.q7,{ref:a,className:(0,l.cn)("border-b",t),...s})});c.displayName="AccordionItem";let d=s.forwardRef((e,a)=>{let{className:t,children:s,...o}=e;return(0,r.jsx)(i.Y9,{className:"flex",children:(0,r.jsxs)(i.l9,{ref:a,className:(0,l.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...o,children:[s,(0,r.jsx)(n.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});d.displayName=i.l9.displayName;let m=s.forwardRef((e,a)=>{let{className:t,children:s,...n}=e;return(0,r.jsx)(i.UC,{ref:a,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:(0,r.jsx)("div",{className:(0,l.cn)("pb-4 pt-0",t),children:s})})});m.displayName=i.UC.displayName},822:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(1713).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},2671:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(1713).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},3022:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(1713).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},4966:(e,a,t)=>{"use strict";t.d(a,{jH:()=>i});var r=t(4232);t(7876);var s=r.createContext(void 0);function i(e){let a=r.useContext(s);return e||a||"ltr"}},5104:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(1713).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5495:(e,a,t)=>{"use strict";t.d(a,{Se:()=>c,V6:()=>l,VM:()=>p,jW:()=>d,ts:()=>n,vS:()=>o,xp:()=>u});var r=t(612),s=t(5263);let i=async e=>{let{data:a,error:t}=await s.S.storage.from("media").list(e);return t?(console.log(t),[]):null==a?void 0:a.map(e=>e.name)},n=async e=>{let a=await i(e),t=[];for(let r=0;r<a.length;r++){let{data:i}=s.S.storage.from("media").getPublicUrl("".concat(e,"/").concat(a[r]));t.push(i.publicUrl)}return t},l=async(e,a,t)=>{let i=a.split(".")[a.split(".").length-1],n="image/".concat(i),l=t.replace(/^data:image\/\w+;base64,/,""),o=(0,r.i)(l,n),c="".concat(e,"/").concat(a),{data:d,error:m}=await s.S.storage.from("media").upload(c,o,{contentType:n,upsert:!0});return m&&console.log(m),d},o=async e=>{let{data:a,error:t}=await s.S.storage.from("media").remove(e);if(t){console.log(t);return}return a},c=async(e,a)=>{let{data:t,error:r}=await s.S.storage.from("media").download("markdown/".concat(a,"/").concat(e.split(".")[0],"/").concat(e));return r?(console.log(r),null):await t.text()},d=async(e,a,t)=>{let i="text/markdown",n=new File([(0,r.OO)(t)],e,{type:i});await s.S.storage.from("media").upload("markdown/".concat(a,"/").concat(e.split(".")[0],"/").concat(e),n,{contentType:i,upsert:!0})},m=async e=>{let a=[],{data:t,error:r}=await s.S.storage.from("media").list(e,{limit:1e3});if(r)return console.error("Error listing files:",r),[];for(let r of t){var i;if(r.name&&(null===(i=r.metadata)||void 0===i?void 0:i.mimetype)!=="inode/directory"&&a.push("".concat(e?e+"/":"").concat(r.name)),r.name&&null===r.metadata){let t="".concat(e?e+"/":"").concat(r.name),s=await m(t);a.push(...s)}}return a},u=async(e,a)=>{let t=await m("markdown/".concat(a,"/").concat(e));if(t.length>0){let{data:e,error:a}=await s.S.storage.from("media").remove(t);if(a){console.log(a);return}return e}throw Error('No files in the folder "markdown/'.concat(a,"/").concat(e,'"'))},p=async(e,a)=>{let{data:t,error:r}=await s.S.storage.from("media").remove(["markdown/".concat(a,"/").concat(e.split(".")[0],"/").concat(e)]);if(r){console.log(r);return}return t}},7041:(e,a,t)=>{"use strict";t.d(a,{$:()=>c,r:()=>o});var r=t(7876),s=t(4232),i=t(2987),n=t(9518),l=t(612);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,a)=>{let{className:t,variant:s,size:n,asChild:c=!1,...d}=e,m=c?i.DX:"button";return(0,r.jsx)(m,{className:(0,l.cn)(o({variant:s,size:n,className:t})),ref:a,...d})});c.displayName="Button"},8221:(e,a,t)=>{"use strict";t.d(a,{UC:()=>en,Y9:()=>es,q7:()=>er,bL:()=>et,l9:()=>ei});var r=t(4232),s=t(1844),i=t(8775),n=t(714),l=t(3716),o=t(8162),c=t(6326),d=t(1285),m=t(6822),u=t(294),p=t(7876),f="Collapsible",[h,g]=(0,s.A)(f),[v,x]=h(f),b=r.forwardRef((e,a)=>{let{__scopeCollapsible:t,open:s,defaultOpen:i,disabled:n,onOpenChange:l,...d}=e,[m=!1,f]=(0,o.i)({prop:s,defaultProp:i,onChange:l});return(0,p.jsx)(v,{scope:t,disabled:n,contentId:(0,u.B)(),open:m,onOpenToggle:r.useCallback(()=>f(e=>!e),[f]),children:(0,p.jsx)(c.sG.div,{"data-state":k(m),"data-disabled":n?"":void 0,...d,ref:a})})});b.displayName=f;var y="CollapsibleTrigger",w=r.forwardRef((e,a)=>{let{__scopeCollapsible:t,...r}=e,s=x(y,t);return(0,p.jsx)(c.sG.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":k(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:a,onClick:(0,l.m)(e.onClick,s.onOpenToggle)})});w.displayName=y;var N="CollapsibleContent",j=r.forwardRef((e,a)=>{let{forceMount:t,...r}=e,s=x(N,e.__scopeCollapsible);return(0,p.jsx)(m.C,{present:t||s.open,children:({present:e})=>(0,p.jsx)(A,{...r,ref:a,present:e})})});j.displayName=N;var A=r.forwardRef((e,a)=>{let{__scopeCollapsible:t,present:s,children:i,...l}=e,o=x(N,t),[m,u]=r.useState(s),f=r.useRef(null),h=(0,n.s)(a,f),g=r.useRef(0),v=g.current,b=r.useRef(0),y=b.current,w=o.open||m,j=r.useRef(w),A=r.useRef(void 0);return r.useEffect(()=>{let e=requestAnimationFrame(()=>j.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,d.N)(()=>{let e=f.current;if(e){A.current=A.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let a=e.getBoundingClientRect();g.current=a.height,b.current=a.width,j.current||(e.style.transitionDuration=A.current.transitionDuration,e.style.animationName=A.current.animationName),u(s)}},[o.open,s]),(0,p.jsx)(c.sG.div,{"data-state":k(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!w,...l,ref:h,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:w&&i})});function k(e){return e?"open":"closed"}var C=t(4966),S="Accordion",R=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[_,E,T]=(0,i.N)(S),[I,M]=(0,s.A)(S,[T,g]),D=g(),U=r.forwardRef((e,a)=>{let{type:t,...r}=e;return(0,p.jsx)(_.Provider,{scope:e.__scopeAccordion,children:"multiple"===t?(0,p.jsx)(z,{...r,ref:a}):(0,p.jsx)(q,{...r,ref:a})})});U.displayName=S;var[O,F]=I(S),[P,$]=I(S,{collapsible:!1}),q=r.forwardRef((e,a)=>{let{value:t,defaultValue:s,onValueChange:i=()=>{},collapsible:n=!1,...l}=e,[c,d]=(0,o.i)({prop:t,defaultProp:s,onChange:i});return(0,p.jsx)(O,{scope:e.__scopeAccordion,value:c?[c]:[],onItemOpen:d,onItemClose:r.useCallback(()=>n&&d(""),[n,d]),children:(0,p.jsx)(P,{scope:e.__scopeAccordion,collapsible:n,children:(0,p.jsx)(J,{...l,ref:a})})})}),z=r.forwardRef((e,a)=>{let{value:t,defaultValue:s,onValueChange:i=()=>{},...n}=e,[l=[],c]=(0,o.i)({prop:t,defaultProp:s,onChange:i}),d=r.useCallback(e=>c((a=[])=>[...a,e]),[c]),m=r.useCallback(e=>c((a=[])=>a.filter(a=>a!==e)),[c]);return(0,p.jsx)(O,{scope:e.__scopeAccordion,value:l,onItemOpen:d,onItemClose:m,children:(0,p.jsx)(P,{scope:e.__scopeAccordion,collapsible:!0,children:(0,p.jsx)(J,{...n,ref:a})})})}),[H,G]=I(S),J=r.forwardRef((e,a)=>{let{__scopeAccordion:t,disabled:s,dir:i,orientation:o="vertical",...d}=e,m=r.useRef(null),u=(0,n.s)(m,a),f=E(t),h="ltr"===(0,C.jH)(i),g=(0,l.m)(e.onKeyDown,e=>{if(!R.includes(e.key))return;let a=e.target,t=f().filter(e=>!e.ref.current?.disabled),r=t.findIndex(e=>e.ref.current===a),s=t.length;if(-1===r)return;e.preventDefault();let i=r,n=s-1,l=()=>{(i=r+1)>n&&(i=0)},c=()=>{(i=r-1)<0&&(i=n)};switch(e.key){case"Home":i=0;break;case"End":i=n;break;case"ArrowRight":"horizontal"===o&&(h?l():c());break;case"ArrowDown":"vertical"===o&&l();break;case"ArrowLeft":"horizontal"===o&&(h?c():l());break;case"ArrowUp":"vertical"===o&&c()}let d=i%s;t[d].ref.current?.focus()});return(0,p.jsx)(H,{scope:t,disabled:s,direction:i,orientation:o,children:(0,p.jsx)(_.Slot,{scope:t,children:(0,p.jsx)(c.sG.div,{...d,"data-orientation":o,ref:u,onKeyDown:s?void 0:g})})})}),L="AccordionItem",[V,X]=I(L),B=r.forwardRef((e,a)=>{let{__scopeAccordion:t,value:r,...s}=e,i=G(L,t),n=F(L,t),l=D(t),o=(0,u.B)(),c=r&&n.value.includes(r)||!1,d=i.disabled||e.disabled;return(0,p.jsx)(V,{scope:t,open:c,disabled:d,triggerId:o,children:(0,p.jsx)(b,{"data-orientation":i.orientation,"data-state":ea(c),...l,...s,ref:a,disabled:d,open:c,onOpenChange:e=>{e?n.onItemOpen(r):n.onItemClose(r)}})})});B.displayName=L;var W="AccordionHeader",K=r.forwardRef((e,a)=>{let{__scopeAccordion:t,...r}=e,s=G(S,t),i=X(W,t);return(0,p.jsx)(c.sG.h3,{"data-orientation":s.orientation,"data-state":ea(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:a})});K.displayName=W;var Y="AccordionTrigger",Z=r.forwardRef((e,a)=>{let{__scopeAccordion:t,...r}=e,s=G(S,t),i=X(Y,t),n=$(Y,t),l=D(t);return(0,p.jsx)(_.ItemSlot,{scope:t,children:(0,p.jsx)(w,{"aria-disabled":i.open&&!n.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...l,...r,ref:a})})});Z.displayName=Y;var Q="AccordionContent",ee=r.forwardRef((e,a)=>{let{__scopeAccordion:t,...r}=e,s=G(S,t),i=X(Q,t),n=D(t);return(0,p.jsx)(j,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...n,...r,ref:a,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});function ea(e){return e?"open":"closed"}ee.displayName=Q;var et=U,er=B,es=K,ei=Z,en=ee},8860:(e,a,t)=>{"use strict";t.d(a,{dr:()=>o,fP:()=>n,jy:()=>d,ly:()=>c});var r=t(5263),s=t(5495),i=t(612);let n=async()=>{let{data:e,error:a}=await r.S.from("team").select("*");if(a&&console.log(a),!e)throw Error("Could not fetch Team Members");return JSON.parse(JSON.stringify(e))},l=async e=>{let{data:a,error:t}=await r.S.from("team").select().eq("id",e);if(t&&console.log(t),!a)throw Error("Project with this id doesn't exist");return JSON.parse(JSON.stringify(a[0]))},o=async(e,a)=>{await (0,s.V6)("team",a,e.image);let{data:t}=r.S.storage.from("media").getPublicUrl("team/".concat(a)),{id:i,...n}=e,{error:l}=await r.S.from("team").insert({...n,image:t.publicUrl});return l?(console.log(l),{error:l}):{error:null}},c=async e=>(await (0,s.vS)(["projects/".concat(e.image.split("/").pop())]),await r.S.from("team").delete().eq("id",e.id)),d=async(e,a)=>{let t=await l(e.id);await (0,s.vS)(["team/".concat(t.image.split("/").pop())]);let{id:n,...o}=e;if(!await (0,s.V6)("team",a,e.image))return Error("Image Upload Failed");let{data:c}=r.S.storage.from("media").getPublicUrl("team/".concat(a)),{error:d}=await r.S.from("team").update({...o,image:c.publicUrl}).eq("id",e.id);if(d){let e=await (0,i.W6)(t.image);await (0,s.V6)("projects",t.image.split("/").pop(),e),console.log(d)}return d}},9216:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/components/TeamEditor",function(){return t(301)}])}},e=>{var a=a=>e(e.s=a);e.O(0,[5352,6361,3466,1875,9546,5023,3958,3410,636,6593,8792],()=>a(9216)),_N_E=e.O()}]);