(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4400],{2436:(e,a,t)=>{"use strict";t.d(a,{a:()=>i});var r=t(7876);t(4232);var s=t(612);let i=e=>{let{size:a="md",text:t,className:i,variant:n="spinner",isLoading:l,children:o}=e,d={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"};return(0,r.jsx)(r.Fragment,{children:l?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center p-6 bg-background border w-full h-full min-h-screen",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(()=>{switch(n){case"spinner":return(0,r.jsx)("div",{className:(0,s.cn)("relative animate-spin rounded-full border-4 border-primary/30 border-t-primary",d[a],i)});case"pulse":return(0,r.jsxs)("div",{className:(0,s.cn)("relative flex items-center justify-center",d[a],i),children:[(0,r.jsx)("div",{className:"absolute w-full h-full rounded-full bg-primary/20 animate-ping"}),(0,r.jsx)("div",{className:"absolute w-3/4 h-3/4 rounded-full bg-primary/40 animate-pulse"}),(0,r.jsx)("div",{className:"w-1/2 h-1/2 rounded-full bg-primary"})]});case"dots":return(0,r.jsx)("div",{className:(0,s.cn)("flex space-x-2",i),children:[0,1,2].map(e=>(0,r.jsx)("div",{className:(0,s.cn)("rounded-full bg-primary","sm"===a?"w-2 h-2":"md"===a?"w-3 h-3":"w-4 h-4","animate-bounce",0===e?"animate-delay-0":1===e?"animate-delay-150":"animate-delay-300")},e))});default:return null}})(),t&&(0,r.jsx)("p",{className:"text-foreground/80 animate-pulse text-sm md:text-base",children:t})]}),(0,r.jsx)("span",{className:"mt-4 font-medium",children:"Loading..."})]}):o})}},2588:(e,a,t)=>{"use strict";t.d(a,{AM:()=>l,Wv:()=>o,hl:()=>d});var r=t(7876),s=t(4232),i=t(3178),n=t(612);let l=i.bL,o=i.l9,d=s.forwardRef((e,a)=>{let{className:t,align:s="center",sideOffset:l=4,...o}=e;return(0,r.jsx)(i.ZL,{children:(0,r.jsx)(i.UC,{ref:a,align:s,sideOffset:l,className:(0,n.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...o})})});d.displayName=i.UC.displayName},3410:(e,a,t)=>{"use strict";t.d(a,{A:()=>x});var r=t(7876),s=t(4232),i=t(53),n=t(8971),l=t(2669),o=t(3125),d=t(8070),c=t(6785),u=t(3654),m=t(612),f=t(7041),p=t(8671),g=t(2588);let h=e=>{let{date:a,setDate:t,className:i,placeholder:l="Select date"}=e,[o,h]=s.useState(a?(0,d.GP)(a,"dd/MM/yyyy"):""),[x,v]=s.useState(!1),[y,b]=s.useState(null);return s.useEffect(()=>{a&&h((0,d.GP)(a,"dd/MM/yyyy"))},[a]),(0,r.jsx)("div",{className:(0,m.cn)("relative",i),children:(0,r.jsxs)(g.AM,{open:x,onOpenChange:v,children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[(0,r.jsx)(n.p,{type:"text",placeholder:l,value:o,onChange:e=>{let a=e.target.value;if(h(a),b(null),!a.trim()){t(void 0);return}if(10===a.length)try{let e=(0,c.qg)(a,"dd/MM/yyyy",new Date);(0,d.GP)(e,"dd/MM/yyyy")===a?(t(e),b(null)):b("Invalid date")}catch(e){b("Invalid format (DD/MM/YYYY)")}},className:(0,m.cn)("pl-3 pr-10 py-2",y?"border-red-500 focus-visible:ring-red-500":"")}),y&&(0,r.jsx)("div",{className:"text-red-500 text-xs mt-1 absolute",children:y})]}),(0,r.jsx)(g.Wv,{asChild:!0,children:(0,r.jsx)(f.$,{variant:"outline",className:(0,m.cn)("px-3 h-10 w-10 flex items-center justify-center"),onClick:()=>v(!0),children:(0,r.jsx)(u.A,{className:"h-4 w-4"})})})]}),(0,r.jsx)(g.hl,{className:"w-auto p-0",align:"end",children:(0,r.jsx)(p.V,{mode:"single",selected:a,onSelect:e=>{t(e),e?h((0,d.GP)(e,"dd/MM/yyyy")):h(""),v(!1),b(null)},initialFocus:!0,className:(0,m.cn)("p-3 pointer-events-auto border rounded-md shadow-md")})})]})})},x=e=>{let{htmlFor:a,title:t,id:s,onChange:d,placeholder:c,value:u,type:m,setFileName:f,date:p,setDate:g}=e;switch(m){case"TEXT":default:return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(i.J,{htmlFor:a,children:t}),(0,r.jsx)(n.p,{id:s,value:u,onChange:e=>d(a=>({...a,[s]:e.target.value})),placeholder:c})]});case"IMAGE":return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(i.J,{htmlFor:a,children:"Upload Image"}),(0,r.jsx)(o.A,{id:s,onChange:d,setFileName:f})]});case"MARKDOWN":return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(i.J,{htmlFor:a,children:t}),(0,r.jsx)(l.default,{value:u,onChange:e=>d(a=>({...a,[s]:e})),placeholder:c})]});case"DATE":return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(i.J,{htmlFor:a,children:t}),(0,r.jsx)(h,{date:p,setDate:g})]})}}},5495:(e,a,t)=>{"use strict";t.d(a,{Se:()=>d,V6:()=>l,VM:()=>f,jW:()=>c,ts:()=>n,vS:()=>o,xp:()=>m});var r=t(612),s=t(5263);let i=async e=>{let{data:a,error:t}=await s.S.storage.from("media").list(e);return t?(console.log(t),[]):null==a?void 0:a.map(e=>e.name)},n=async e=>{let a=await i(e),t=[];for(let r=0;r<a.length;r++){let{data:i}=s.S.storage.from("media").getPublicUrl("".concat(e,"/").concat(a[r]));t.push(i.publicUrl)}return t},l=async(e,a,t)=>{let i=a.split(".")[a.split(".").length-1],n="image/".concat(i),l=t.replace(/^data:image\/\w+;base64,/,""),o=(0,r.i)(l,n),d="".concat(e,"/").concat(a),{data:c,error:u}=await s.S.storage.from("media").upload(d,o,{contentType:n,upsert:!0});return u&&console.log(u),c},o=async e=>{let{data:a,error:t}=await s.S.storage.from("media").remove(e);if(t){console.log(t);return}return a},d=async(e,a)=>{let{data:t,error:r}=await s.S.storage.from("media").download("markdown/".concat(a,"/").concat(e.split(".")[0],"/").concat(e));return r?(console.log(r),null):await t.text()},c=async(e,a,t)=>{let i="text/markdown",n=new File([(0,r.OO)(t)],e,{type:i});await s.S.storage.from("media").upload("markdown/".concat(a,"/").concat(e.split(".")[0],"/").concat(e),n,{contentType:i,upsert:!0})},u=async e=>{let a=[],{data:t,error:r}=await s.S.storage.from("media").list(e,{limit:1e3});if(r)return console.error("Error listing files:",r),[];for(let r of t){var i;if(r.name&&(null===(i=r.metadata)||void 0===i?void 0:i.mimetype)!=="inode/directory"&&a.push("".concat(e?e+"/":"").concat(r.name)),r.name&&null===r.metadata){let t="".concat(e?e+"/":"").concat(r.name),s=await u(t);a.push(...s)}}return a},m=async(e,a)=>{let t=await u("markdown/".concat(a,"/").concat(e));if(t.length>0){let{data:e,error:a}=await s.S.storage.from("media").remove(t);if(a){console.log(a);return}return e}throw Error('No files in the folder "markdown/'.concat(a,"/").concat(e,'"'))},f=async(e,a)=>{let{data:t,error:r}=await s.S.storage.from("media").remove(["markdown/".concat(a,"/").concat(e.split(".")[0],"/").concat(e)]);if(r){console.log(r);return}return t}},5806:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>y});var r=t(7876),s=t(4232),i=t(7041),n=t(4587),l=t.n(n),o=t(53),d=t(4725),c=t(1354),u=t(345),m=t(5495),f=t(2436),p=t(6461),g=t(3125),h=t(3410);let x={heading:"",description:""},v={image1:"",image2:"",image3:""},y=()=>{let[e,a]=(0,s.useState)(!0),[t,n]=(0,s.useState)(x),[y,b]=(0,s.useState)([]),[w,j]=(0,s.useState)(v),[N,_]=(0,s.useState)(""),[S,k]=(0,s.useState)(""),[C,E]=(0,s.useState)("");(0,s.useEffect)(()=>{(async()=>{let e=await (0,m.ts)("hero");n(await (0,p.z)()),b(e),a(!1)})()},[]);let{toast:A}=(0,d.dj)(),M=async e=>{let a=0;for(let[e,t]of Object.entries(w))t&&a++;let t=(await (0,m.ts)(e)).map(e=>e.split("/").pop());for(let r=0;r<a;r++)await (0,m.vS)(["".concat(e,"/").concat(t[r])]);w.image1&&await (0,m.V6)(e,N,w.image1),w.image2&&await (0,m.V6)(e,S,w.image2),w.image3&&await (0,m.V6)(e,C,w.image3),A({title:"Success",description:"Uploaded all the images successfully"})},F=async()=>{let e=await (0,p.z)();if(e.heading==t.heading&&e.description==t.description&&""==N&&""==S&&""==C){A({title:"Error",description:"Please make some changes",variant:"destructive"});return}await M("hero");let a=await (0,p.a)(t);if(a){A({title:"Error",description:a.message,variant:"destructive"});return}A({title:"Success",description:"Hero data updated successfully"}),location.reload()},z=e=>{};return(0,r.jsx)(f.a,{isLoading:e,children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(h.A,{id:"heading",title:"Heading",htmlFor:"heading",onChange:n,placeholder:"Enter Heading",type:"TEXT",value:t.heading}),(0,r.jsx)(h.A,{id:"description",title:"Description",htmlFor:"description",onChange:n,placeholder:"Enter Description",type:"TEXT",value:t.description}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(o.J,{children:"Background Images"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:h-[260px] h-[1000px]",children:y.map((e,a)=>(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsx)("div",{className:"relative w-full h-full",children:(0,r.jsx)(l(),{src:e,alt:"Background ".concat(a+1),fill:!0,className:"object-contain"})}),(0,r.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-md",children:(0,r.jsxs)(i.$,{variant:"destructive",size:"sm",onClick:()=>z(a),children:[(0,r.jsx)(c.A,{className:"h-4 w-4 mr-1"})," Remove"]})})]},a))}),(0,r.jsxs)("div",{className:"grid gap-2 grid-cols-1 md:grid-cols-3",children:[(0,r.jsx)(g.A,{id:"image1",onChange:j,setFileName:_}),(0,r.jsx)(g.A,{id:"image2",onChange:j,setFileName:k}),(0,r.jsx)(g.A,{id:"image3",onChange:j,setFileName:E})]})]}),(0,r.jsxs)(i.$,{onClick:F,className:"mt-6 w-full",size:"lg",children:[(0,r.jsx)(u.A,{className:"h-4 w-4 mr-2"})," Save Changes"]})]})})}},6461:(e,a,t)=>{"use strict";t.d(a,{a:()=>i,z:()=>s});var r=t(5263);let s=async()=>{let{data:e,error:a}=await r.S.from("hero").select("*").eq("id","e32e2ff0-8a37-4b44-aded-db033dc95333");if(a&&console.log(a),!e)throw Error("Could not fetch data for hero section");return{heading:e[0].heading,description:e[0].description}},i=async e=>{let{error:a}=await r.S.from("hero").update(e).eq("id","e32e2ff0-8a37-4b44-aded-db033dc95333");return a?(console.log(a),a):null}},7041:(e,a,t)=>{"use strict";t.d(a,{$:()=>d,r:()=>o});var r=t(7876),s=t(4232),i=t(2987),n=t(9518),l=t(612);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,a)=>{let{className:t,variant:s,size:n,asChild:d=!1,...c}=e,u=d?i.DX:"button";return(0,r.jsx)(u,{className:(0,l.cn)(o({variant:s,size:n,className:t})),ref:a,...c})});d.displayName="Button"},7700:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/components/HeroEditor",function(){return t(5806)}])},8671:(e,a,t)=>{"use strict";t.d(a,{V:()=>d});var r=t(7876);t(4232);var s=t(2963),i=t(6108),n=t(6120),l=t(612),o=t(7041);function d(e){let{className:a,classNames:t,showOutsideDays:d=!0,...c}=e;return(0,r.jsx)(n.hv,{showOutsideDays:d,className:(0,l.cn)("p-3",a),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,l.cn)((0,o.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,l.cn)((0,o.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:e=>{let{...a}=e;return(0,r.jsx)(s.A,{className:"h-4 w-4"})},IconRight:e=>{let{...a}=e;return(0,r.jsx)(i.A,{className:"h-4 w-4"})}},...c})}d.displayName="Calendar"},8971:(e,a,t)=>{"use strict";t.d(a,{p:()=>n});var r=t(7876),s=t(4232),i=t(612);let n=s.forwardRef((e,a)=>{let{className:t,type:s,...n}=e;return(0,r.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...n})});n.displayName="Input"}},e=>{var a=a=>e(e.s=a);e.O(0,[5352,6361,3466,4587,1875,9546,3564,4775,2669,636,6593,8792],()=>a(7700)),_N_E=e.O()}]);