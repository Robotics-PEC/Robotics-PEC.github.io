(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[400],{2436:(e,a,t)=>{"use strict";t.d(a,{a:()=>r});var s=t(7876);t(4232);var i=t(4670);let r=e=>{let{size:a="md",text:t,className:r,variant:n="spinner",isLoading:l,children:c}=e,o={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"};return(0,s.jsx)(s.Fragment,{children:l?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center p-6 bg-background border w-full h-full min-h-screen",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(()=>{switch(n){case"spinner":return(0,s.jsx)("div",{className:(0,i.cn)("relative animate-spin rounded-full border-4 border-primary/30 border-t-primary",o[a],r)});case"pulse":return(0,s.jsxs)("div",{className:(0,i.cn)("relative flex items-center justify-center",o[a],r),children:[(0,s.jsx)("div",{className:"absolute w-full h-full rounded-full bg-primary/20 animate-ping"}),(0,s.jsx)("div",{className:"absolute w-3/4 h-3/4 rounded-full bg-primary/40 animate-pulse"}),(0,s.jsx)("div",{className:"w-1/2 h-1/2 rounded-full bg-primary"})]});case"dots":return(0,s.jsx)("div",{className:(0,i.cn)("flex space-x-2",r),children:[0,1,2].map(e=>(0,s.jsx)("div",{className:(0,i.cn)("rounded-full bg-primary","sm"===a?"w-2 h-2":"md"===a?"w-3 h-3":"w-4 h-4","animate-bounce",0===e?"animate-delay-0":1===e?"animate-delay-150":"animate-delay-300")},e))});default:return null}})(),t&&(0,s.jsx)("p",{className:"text-foreground/80 animate-pulse text-sm md:text-base",children:t})]}),(0,s.jsx)("span",{className:"mt-4 font-medium",children:"Loading..."})]}):c})}},5495:(e,a,t)=>{"use strict";t.d(a,{V6:()=>l,ts:()=>n,vS:()=>c});var s=t(4670),i=t(5263);let r=async e=>{let{data:a,error:t}=await i.S.storage.from("media").list(e);return t?(console.log(t),[]):null==a?void 0:a.map(e=>e.name)},n=async e=>{let a=await r(e),t=[];for(let s=0;s<a.length;s++){let{data:r}=i.S.storage.from("media").getPublicUrl("".concat(e,"/").concat(a[s]));t.push(r.publicUrl)}return t},l=async(e,a,t)=>{let r=a.split(".")[a.split(".").length-1],n="image/".concat(r),l=t.replace(/^data:image\/\w+;base64,/,""),c=(0,s.i)(l,n),o="".concat(e,"/").concat(a),{data:d,error:u}=await i.S.storage.from("media").upload(o,c,{contentType:n,upsert:!0});return u&&console.log(u),d},c=async e=>{let{data:a,error:t}=await i.S.storage.from("media").remove(e);if(t){console.log(t);return}return a}},5806:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>b});var s=t(7876),i=t(4232),r=t(7041),n=t(4587),l=t.n(n),c=t(53),o=t(4725),d=t(1354),u=t(345),m=t(5495),g=t(2436),p=t(6461),h=t(3125),f=t(3410);let v={heading:"",description:""},x={image1:"",image2:"",image3:""},b=()=>{let[e,a]=(0,i.useState)(!0),[t,n]=(0,i.useState)(v),[b,y]=(0,i.useState)([]),[w,j]=(0,i.useState)(x),[N,S]=(0,i.useState)(""),[k,_]=(0,i.useState)(""),[E,C]=(0,i.useState)("");(0,i.useEffect)(()=>{(async()=>{let e=await (0,m.ts)("hero");n(await (0,p.z)()),y(e),a(!1)})()},[]);let{toast:z}=(0,o.dj)(),A=async e=>{let a=0;for(let[e,t]of Object.entries(w))t&&a++;let t=(await (0,m.ts)(e)).map(e=>e.split("/").pop());console.log(t);for(let s=0;s<a;s++)await (0,m.vS)(["".concat(e,"/").concat(t[s])]);w.image1&&await (0,m.V6)(e,N,w.image1),w.image2&&await (0,m.V6)(e,k,w.image2),w.image3&&await (0,m.V6)(e,E,w.image3),z({title:"Success",description:"Uploaded all the images successfully"})},F=async()=>{let e=await (0,p.z)();if(e.heading==t.heading&&e.description==t.description&&""==N&&""==k&&""==E){z({title:"Error",description:"Please make some changes",variant:"destructive"});return}await A("hero");let a=await (0,p.a)(t);if(a){z({title:"Error",description:a.message,variant:"destructive"});return}z({title:"Success",description:"Hero data updated successfully"}),location.reload()},T=e=>{};return(0,s.jsx)(g.a,{isLoading:e,children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(f.A,{id:"heading",title:"Heading",htmlFor:"heading",onChange:n,placeholder:"Enter Heading",type:"TEXT",value:t.heading}),(0,s.jsx)(f.A,{id:"description",title:"Description",htmlFor:"description",onChange:n,placeholder:"Enter Description",type:"TEXT",value:t.description}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(c.J,{children:"Background Images"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:h-[260px] h-[1000px]",children:b.map((e,a)=>(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("div",{className:"relative w-full h-full",children:(0,s.jsx)(l(),{src:e,alt:"Background ".concat(a+1),fill:!0,className:"object-contain"})}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-md",children:(0,s.jsxs)(r.$,{variant:"destructive",size:"sm",onClick:()=>T(a),children:[(0,s.jsx)(d.A,{className:"h-4 w-4 mr-1"})," Remove"]})})]},a))}),(0,s.jsxs)("div",{className:"grid gap-2 grid-cols-1 md:grid-cols-3",children:[(0,s.jsx)(h.A,{id:"image1",onChange:j,setFileName:S}),(0,s.jsx)(h.A,{id:"image2",onChange:j,setFileName:_}),(0,s.jsx)(h.A,{id:"image3",onChange:j,setFileName:C})]})]}),(0,s.jsxs)(r.$,{onClick:F,className:"mt-6 w-full",size:"lg",children:[(0,s.jsx)(u.A,{className:"h-4 w-4 mr-2"})," Save Changes"]})]})})}},6461:(e,a,t)=>{"use strict";t.d(a,{a:()=>r,z:()=>i});var s=t(5263);let i=async()=>{let{data:e,error:a}=await s.S.from("hero").select("*").eq("id","e32e2ff0-8a37-4b44-aded-db033dc95333");if(a&&console.log(a),!e)throw Error("Could not fetch data for hero section");return{heading:e[0].heading,description:e[0].description}},r=async e=>{let{error:a}=await s.S.from("hero").update(e).eq("id","e32e2ff0-8a37-4b44-aded-db033dc95333");return a?(console.log(a),a):null}},7041:(e,a,t)=>{"use strict";t.d(a,{$:()=>o,r:()=>c});var s=t(7876),i=t(4232),r=t(2987),n=t(9518),l=t(4670);let c=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=i.forwardRef((e,a)=>{let{className:t,variant:i,size:n,asChild:o=!1,...d}=e,u=o?r.DX:"button";return(0,s.jsx)(u,{className:(0,l.cn)(c({variant:i,size:n,className:t})),ref:a,...d})});o.displayName="Button"},7700:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/components/HeroEditor",function(){return t(5806)}])}},e=>{var a=a=>e(e.s=a);e.O(0,[352,361,466,587,875,546,314,958,410,636,593,792],()=>a(7700)),_N_E=e.O()}]);