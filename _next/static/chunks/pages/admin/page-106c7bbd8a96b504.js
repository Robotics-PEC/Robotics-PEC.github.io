(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[465],{993:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var s=a(7876),i=a(4232),r=a(7041),l=a(457),n=a(4725),c=a(345),o=a(5104),d=a(3022),m=a(1354),u=a(727),h=a(3476),p=a(8070),x=a(2436),f=a(3502);let v={id:"",title:"",description:"",date:void 0,participants:""},g=()=>{let{toast:e}=(0,n.dj)(),[t,a]=(0,i.useState)([]),[g,j]=(0,i.useState)(v),[y,N]=(0,i.useState)(null),[b,w]=(0,i.useState)(!0),[A,S]=(0,i.useState)(void 0);(0,i.useEffect)(()=>{let e=localStorage.getItem("activitiesData");if(e)try{a(JSON.parse(e))}catch(e){console.error("Failed to parse saved activities data:",e)}(async()=>{a(await (0,h.r4)()),w(!1)})()},[]);let C=async()=>{if(!g.title||!g.description||!g.participants){e({title:"Error",description:"All the fields are required",variant:"destructive"});return}if(!A){e({title:"Error",description:"Date is required",variant:"destructive"});return}g.date=(0,p.GP)(A,"dd/MM/yyyy");let{error:t}=await (0,h.LT)(g);if(t){e({title:t.name,description:t.message,variant:"destructive"});return}e({title:"Success",description:"Activity was successfully uploaded"}),a(e=>[...e,g]),j(v)},k=async()=>{if(!y)return;let t=await (0,h.J0)(g);if(t){e({title:"Error",description:t.message,variant:"destructive"});return}e({title:"Success",description:"Activity was successfully updated"}),a(e=>e.map(e=>e.id===y?g:e)),N(null),j(v)},E=e=>{var t,a,s;j(e),S(new Date("".concat(null===(t=e.date)||void 0===t?void 0:t.split("/")[2],"-").concat(null===(a=e.date)||void 0===a?void 0:a.split("/")[1],"-").concat(null===(s=e.date)||void 0===s?void 0:s.split("/")[0]))),N(e.id)},T=async t=>{let s=await (0,h.$y)(t);if(204===s.status)e({title:"Success",description:"Activity was successfully deleted"});else{var i;e({title:String(s.status),description:null===(i=s.error)||void 0===i?void 0:i.message,variant:"destructive"})}a(e=>e.filter(e=>e.id!==t)),y===t&&(N(null),j(v))};return(0,s.jsx)(x.a,{isLoading:b,children:(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)(u.Zp,{className:"p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-4",children:y?"Edit Activity":"Add New Activity"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(f.A,{id:"title",value:g.title,onChange:j,placeholder:"Introduction to ROS",htmlFor:"title",type:"TEXT",title:"Title"}),(0,s.jsx)(f.A,{id:"description",value:g.description,onChange:j,placeholder:"Hands-on workshop introducing fundamentals of Robot Operating System (ROS) development.",htmlFor:"description",type:"TEXT",title:"Description"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)(f.A,{htmlFor:"date",title:"Date",id:"date",value:g.date,onChange:j,placeholder:"".concat(new Date().getDate(),"/").concat(new Date().getMonth(),"/").concat(new Date().getFullYear()),type:"DATE",date:A,setDate:S}),(0,s.jsx)(f.A,{id:"participants",value:g.participants,onChange:j,placeholder:"50",htmlFor:"participants",type:"TEXT",title:"Participants"})]}),y?(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(r.$,{onClick:k,className:"flex-1",children:[(0,s.jsx)(c.A,{className:"h-4 w-4 mr-2"})," Update Activity"]}),(0,s.jsx)(r.$,{variant:"outline",onClick:()=>{N(null),j(v)},children:"Cancel"})]}):(0,s.jsxs)(r.$,{onClick:C,className:"w-full",children:[(0,s.jsx)(o.A,{className:"h-4 w-4 mr-2"})," Add Activity"]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium",children:"Current Activities"}),0===t.length?(0,s.jsx)("p",{className:"text-gray-500 italic",children:"No activities added yet."}):(0,s.jsx)(l.nD,{type:"single",collapsible:!0,className:"w-full",children:t.map(e=>(0,s.jsxs)(l.As,{value:e.id,children:[(0,s.jsx)(l.$m,{children:(0,s.jsx)("div",{className:"flex justify-between items-center w-full pr-4",children:(0,s.jsx)("span",{children:e.title})})}),(0,s.jsx)(l.ub,{children:(0,s.jsxs)("div",{className:"p-4 space-y-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:"Full Description:"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:"Date:"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.date})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:"Participants:"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.participants})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,s.jsxs)(r.$,{size:"sm",variant:"outline",onClick:()=>E(e),children:[(0,s.jsx)(d.A,{className:"h-4 w-4 mr-1"})," Edit"]}),(0,s.jsxs)(r.$,{size:"sm",variant:"destructive",onClick:()=>T(e.id),children:[(0,s.jsx)(m.A,{className:"h-4 w-4 mr-1"})," Delete"]})]})]})})]},e.id))}),(0,s.jsxs)(r.$,{onClick:()=>{localStorage.setItem("activitiesData",JSON.stringify(t)),e({title:"Changes saved",description:"Activities have been updated successfully."})},className:"w-full mt-4",children:[(0,s.jsx)(c.A,{className:"h-4 w-4 mr-2"})," Save All Changes"]})]})]})})}},2817:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(7876),i=a(4522);let r=e=>{let{title:t,subtitle:a,children:r}=e;return(0,s.jsxs)("div",{className:"container mx-auto px-6",children:[(0,s.jsxs)(i.P.div,{className:"text-center mb-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,s.jsx)("h1",{className:"text-5xl font-medium mb-4",children:t}),(0,s.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:a})]}),(0,s.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mb-16",children:r})]})}},3476:(e,t,a)=>{"use strict";a.d(t,{$y:()=>n,J0:()=>l,LT:()=>r,r4:()=>i});var s=a(5263);let i=async()=>{let{data:e,error:t}=await s.S.from("activities").select("*");if(t&&console.log(t),!e)throw Error("Could not fetch Activies");return JSON.parse(JSON.stringify(e))},r=async e=>{let{id:t,...a}=e,{error:i}=await s.S.from("activities").insert(a);return i?(console.log(i),{error:i}):{error:null}},l=async e=>{let{id:t,...a}=e,{error:i}=await s.S.from("activities").update(a).eq("id",e.id);return i&&console.log(i),i},n=async e=>await s.S.from("activities").delete().eq("id",e)},3523:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ej});var s=a(7876),i=a(4232),r=a(4522),l=a(7041),n=a(3716),c=a(1844),o=a(8775),d=a(714),m=a(294),u=a(6326),h=a(2146),p=a(8162),x=a(4966),f="rovingFocusGroup.onEntryFocus",v={bubbles:!1,cancelable:!0},g="RovingFocusGroup",[j,y,N]=(0,o.N)(g),[b,w]=(0,c.A)(g,[N]),[A,S]=b(g),C=i.forwardRef((e,t)=>(0,s.jsx)(j.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,s.jsx)(j.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,s.jsx)(k,{...e,ref:t})})}));C.displayName=g;var k=i.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:a,orientation:r,loop:l=!1,dir:c,currentTabStopId:o,defaultCurrentTabStopId:m,onCurrentTabStopIdChange:g,onEntryFocus:j,preventScrollOnEntryFocus:N=!1,...b}=e,w=i.useRef(null),S=(0,d.s)(t,w),C=(0,x.jH)(c),[k=null,E]=(0,p.i)({prop:o,defaultProp:m,onChange:g}),[T,D]=i.useState(!1),M=(0,h.c)(j),P=y(a),R=i.useRef(!1),[I,$]=i.useState(0);return i.useEffect(()=>{let e=w.current;if(e)return e.addEventListener(f,M),()=>e.removeEventListener(f,M)},[M]),(0,s.jsx)(A,{scope:a,orientation:r,dir:C,loop:l,currentTabStopId:k,onItemFocus:i.useCallback(e=>E(e),[E]),onItemShiftTab:i.useCallback(()=>D(!0),[]),onFocusableItemAdd:i.useCallback(()=>$(e=>e+1),[]),onFocusableItemRemove:i.useCallback(()=>$(e=>e-1),[]),children:(0,s.jsx)(u.sG.div,{tabIndex:T||0===I?-1:0,"data-orientation":r,...b,ref:S,style:{outline:"none",...e.style},onMouseDown:(0,n.m)(e.onMouseDown,()=>{R.current=!0}),onFocus:(0,n.m)(e.onFocus,e=>{let t=!R.current;if(e.target===e.currentTarget&&t&&!T){let t=new CustomEvent(f,v);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=P().filter(e=>e.focusable);F([e.find(e=>e.active),e.find(e=>e.id===k),...e].filter(Boolean).map(e=>e.ref.current),N)}}R.current=!1}),onBlur:(0,n.m)(e.onBlur,()=>D(!1))})})}),E="RovingFocusGroupItem",T=i.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:a,focusable:r=!0,active:l=!1,tabStopId:c,...o}=e,d=(0,m.B)(),h=c||d,p=S(E,a),x=p.currentTabStopId===h,f=y(a),{onFocusableItemAdd:v,onFocusableItemRemove:g}=p;return i.useEffect(()=>{if(r)return v(),()=>g()},[r,v,g]),(0,s.jsx)(j.ItemSlot,{scope:a,id:h,focusable:r,active:l,children:(0,s.jsx)(u.sG.span,{tabIndex:x?0:-1,"data-orientation":p.orientation,...o,ref:t,onMouseDown:(0,n.m)(e.onMouseDown,e=>{r?p.onItemFocus(h):e.preventDefault()}),onFocus:(0,n.m)(e.onFocus,()=>p.onItemFocus(h)),onKeyDown:(0,n.m)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){p.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,a){var s;let i=(s=e.key,"rtl"!==a?s:"ArrowLeft"===s?"ArrowRight":"ArrowRight"===s?"ArrowLeft":s);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(i))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(i)))return D[i]}(e,p.orientation,p.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let a=f().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)a.reverse();else if("prev"===t||"next"===t){"prev"===t&&a.reverse();let s=a.indexOf(e.currentTarget);a=p.loop?function(e,t){return e.map((a,s)=>e[(t+s)%e.length])}(a,s+1):a.slice(s+1)}setTimeout(()=>F(a))}})})})});T.displayName=E;var D={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function F(e,t=!1){let a=document.activeElement;for(let s of e)if(s===a||(s.focus({preventScroll:t}),document.activeElement!==a))return}var M=a(6822),P="Tabs",[R,I]=(0,c.A)(P,[w]),$=w(),[O,H]=R(P),_=i.forwardRef((e,t)=>{let{__scopeTabs:a,value:i,onValueChange:r,defaultValue:l,orientation:n="horizontal",dir:c,activationMode:o="automatic",...d}=e,h=(0,x.jH)(c),[f,v]=(0,p.i)({prop:i,onChange:r,defaultProp:l});return(0,s.jsx)(O,{scope:a,baseId:(0,m.B)(),value:f,onValueChange:v,orientation:n,dir:h,activationMode:o,children:(0,s.jsx)(u.sG.div,{dir:h,"data-orientation":n,...d,ref:t})})});_.displayName=P;var J="TabsList",L=i.forwardRef((e,t)=>{let{__scopeTabs:a,loop:i=!0,...r}=e,l=H(J,a),n=$(a);return(0,s.jsx)(C,{asChild:!0,...n,orientation:l.orientation,dir:l.dir,loop:i,children:(0,s.jsx)(u.sG.div,{role:"tablist","aria-orientation":l.orientation,...r,ref:t})})});L.displayName=J;var U="TabsTrigger",V=i.forwardRef((e,t)=>{let{__scopeTabs:a,value:i,disabled:r=!1,...l}=e,c=H(U,a),o=$(a),d=z(c.baseId,i),m=K(c.baseId,i),h=i===c.value;return(0,s.jsx)(T,{asChild:!0,...o,focusable:!r,active:h,children:(0,s.jsx)(u.sG.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":m,"data-state":h?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:d,...l,ref:t,onMouseDown:(0,n.m)(e.onMouseDown,e=>{r||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(i)}),onKeyDown:(0,n.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(i)}),onFocus:(0,n.m)(e.onFocus,()=>{let e="manual"!==c.activationMode;h||r||!e||c.onValueChange(i)})})})});V.displayName=U;var q="TabsContent",G=i.forwardRef((e,t)=>{let{__scopeTabs:a,value:r,forceMount:l,children:n,...c}=e,o=H(q,a),d=z(o.baseId,r),m=K(o.baseId,r),h=r===o.value,p=i.useRef(h);return i.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,s.jsx)(M.C,{present:l||h,children:({present:a})=>(0,s.jsx)(u.sG.div,{"data-state":h?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":d,hidden:!a,id:m,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:a&&n})})});function z(e,t){return`${e}-trigger-${t}`}function K(e,t){return`${e}-content-${t}`}G.displayName=q;var B=a(4317);let X=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(L,{ref:t,className:(0,B.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...i})});X.displayName=L.displayName;let Z=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(V,{ref:t,className:(0,B.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...i})});Z.displayName=V.displayName;let W=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(G,{ref:t,className:(0,B.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...i})});W.displayName=G.displayName;var Y=a(727),Q=a(4725),ee=a(8230),et=a.n(ee),ea=a(1713);let es=(0,ea.A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),ei=(0,ea.A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var er=a(3654),el=a(7396);let en=(0,ea.A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var ec=a(5806),eo=a(8244),ed=a(993),em=a(2213),eu=a(4299),eh=a(7341),ep=a(2898),ex=a(2817);let ef=()=>{let{toast:e}=(0,Q.dj)(),[t,a]=(0,i.useState)("hero");return(0,s.jsxs)(eh.A,{isAdmin:!0,children:[(0,s.jsx)(ep.A,{title:"Robotics Society | Punjab Engineering College",description:"PEC Robotics Society at Punjab Engineering College is dedicated to innovation in robotics and automation. Explore our projects and join our team."}),(0,s.jsx)("section",{className:"py-24",id:"events",children:(0,s.jsx)(ex.A,{title:"Admin Dashboard",subtitle:"Manage website content",children:(0,s.jsx)("div",{className:"min-h-screen bg-white p-6",children:(0,s.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-6xl mx-auto",children:[(0,s.jsxs)(_,{defaultValue:"hero",value:t,onValueChange:a,className:"w-full mb-12",children:[(0,s.jsx)("div",{className:"overflow-x-auto pb-2",children:(0,s.jsxs)(X,{className:"mb-8",children:[(0,s.jsxs)(Z,{value:"hero",className:"flex items-center gap-2",children:[(0,s.jsx)(es,{className:"h-4 w-4"})," Hero Section"]}),(0,s.jsxs)(Z,{value:"projects",className:"flex items-center gap-2",children:[(0,s.jsx)(ei,{className:"h-4 w-4"})," Projects"]}),(0,s.jsxs)(Z,{value:"activities",className:"flex items-center gap-2",children:[(0,s.jsx)(ei,{className:"h-4 w-4"})," Activities"]}),(0,s.jsxs)(Z,{value:"events",className:"flex items-center gap-2",children:[(0,s.jsx)(er.A,{className:"h-4 w-4"})," Events"]}),(0,s.jsxs)(Z,{value:"team",className:"flex items-center gap-2",children:[(0,s.jsx)(el.A,{className:"h-4 w-4"})," Team"]})]})}),(0,s.jsxs)(Y.Zp,{className:"shadow-md",children:[(0,s.jsxs)(Y.aR,{children:[(0,s.jsxs)(Y.ZB,{children:["hero"===t&&"Hero Section Editor","projects"===t&&"Projects Editor","activities"===t&&"Activities Editor","events"===t&&"Events Editor","team"===t&&"Team Members Editor"]}),(0,s.jsxs)(Y.BT,{children:["hero"===t&&"Edit the main heading, text and background images","projects"===t&&"Add, edit or remove projects","activities"===t&&"Manage robotics activities and workshops","events"===t&&"Add or edit upcoming events and competitions","team"===t&&"Manage team members and their information"]})]}),(0,s.jsxs)(Y.Wu,{children:[(0,s.jsx)(W,{value:"hero",className:"mt-0",children:(0,s.jsx)(ec.default,{})}),(0,s.jsx)(W,{value:"projects",className:"mt-0",children:(0,s.jsx)(eo.default,{})}),(0,s.jsx)(W,{value:"activities",className:"mt-0",children:(0,s.jsx)(ed.default,{})}),(0,s.jsx)(W,{value:"events",className:"mt-0",children:(0,s.jsx)(em.default,{})}),(0,s.jsx)(W,{value:"team",className:"mt-0",children:(0,s.jsx)(eu.default,{})})]})]})]}),(0,s.jsxs)("div",{className:"mt-8",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Preview Pages"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsx)(Y.Zp,{className:"hover:shadow-md transition-shadow",children:(0,s.jsxs)(Y.Wu,{className:"p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Activities Page"}),(0,s.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"View all robotics activities and workshops."}),(0,s.jsx)(l.$,{asChild:!0,variant:"outline",className:"w-full",children:(0,s.jsxs)(et(),{href:"/activities",target:"_blank",children:[(0,s.jsx)(en,{className:"h-4 w-4 mr-2"}),"View Page"]})})]})}),(0,s.jsx)(Y.Zp,{className:"hover:shadow-md transition-shadow",children:(0,s.jsxs)(Y.Wu,{className:"p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Events Page"}),(0,s.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"View upcoming events and competitions."}),(0,s.jsx)(l.$,{asChild:!0,variant:"outline",className:"w-full",children:(0,s.jsxs)(et(),{href:"/events",target:"_blank",children:[(0,s.jsx)(en,{className:"h-4 w-4 mr-2"}),"View Page"]})})]})}),(0,s.jsx)(Y.Zp,{className:"hover:shadow-md transition-shadow",children:(0,s.jsxs)(Y.Wu,{className:"p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Team Page"}),(0,s.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"View all team members and their profiles."}),(0,s.jsx)(l.$,{asChild:!0,variant:"outline",className:"w-full",children:(0,s.jsxs)(et(),{href:"/team",target:"_blank",children:[(0,s.jsx)(en,{className:"h-4 w-4 mr-2"}),"View Page"]})})]})})]})]})]})})})})]})};var ev=a(3577),eg=a(5263);let ej=()=>{let[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let e=async()=>{let{data:{session:e}}=await eg.S.auth.getSession();e&&t(!0)};eg.S.auth.onAuthStateChange((e,t)=>{"SIGNED_OUT"===e&&localStorage.clear()}),e()},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ep.A,{title:"Robotics Society of PEC Admin",description:"You are in full control"}),e?(0,s.jsx)(ef,{}):(0,s.jsx)(ev.default,{})]})}},3577:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var s=a(7876);a(4232);var i=a(1713);let r=(0,i.A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),l=(0,i.A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var n=a(7041),c=a(4522),o=a(9099),d=a(7341),m=a(2898);let u=()=>{let e=(0,o.useRouter)();return(0,s.jsxs)(d.A,{children:[(0,s.jsx)(m.A,{title:"Oops",description:"Return to Homepage"}),(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,s.jsxs)(c.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md p-8 mx-4 bg-white rounded-xl shadow-lg text-center",children:[(0,s.jsx)(c.P.div,{initial:{scale:.8},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:10,delay:.2},className:"mx-auto mb-6 w-24 h-24 flex items-center justify-center bg-amber-100 rounded-full",children:(0,s.jsx)(r,{className:"w-12 h-12 text-amber-500"})}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-3",children:"Oops!"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"It seems you've wandered to the wrong page. Don't worry, it happens to the best of us!"}),(0,s.jsx)(c.P.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,s.jsxs)(n.$,{onClick:()=>e.push("/"),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2 rounded-lg flex items-center justify-center gap-2 mx-auto",children:[(0,s.jsx)(l,{className:"w-4 h-4"}),"Return to Home"]})})]})})]})}},4299:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var s=a(7876),i=a(4232),r=a(7041),l=a(457),n=a(4725),c=a(345),o=a(5104);let d=(0,a(1713).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var m=a(3022),u=a(1354),h=a(727),p=a(3502),x=a(8860),f=a(4317);let v={id:"",firstName:"",lastName:"",role:"",image:""},g=()=>{let{toast:e}=(0,n.dj)(),[t,a]=(0,i.useState)([]),[g,j]=(0,i.useState)(v),[y,N]=(0,i.useState)(null),[b,w]=(0,i.useState)("");(0,i.useEffect)(()=>{let e=localStorage.getItem("teamMembersData");if(e)try{a(JSON.parse(e))}catch(e){console.error("Failed to parse saved team members data:",e)}(async()=>{a(await (0,x.fP)())})()},[]);let A=async()=>{if(!g.firstName||!g.lastName||!g.role||!g.image){e({title:"Error",description:"All Fields are required",variant:"destructive"});return}let{error:t}=await (0,x.dr)(g,b);t?e({title:t.name,description:t.message,variant:"destructive"}):e({title:"Success",description:"Team Member has been Added"}),a(e=>[...e,{...g}]),j(v)},S=async()=>{if(!y)return;a(e=>e.map(e=>e.id===y?g:e));let t=await (0,x.jy)(g,b);g.image="https://bkbmdjdypixbskuvrkxi.supabase.co/storage/v1/object/public/media/team/".concat(b),j(v),N(null),t?e({title:t.name,description:t.message,variant:"destructive"}):e({title:"Success",description:"Team Member has been Updated"})},C=async e=>{w(e.image.split("/").pop()),e.image=await (0,f.W6)(e.image),j(e),N(e.id)},k=async t=>{a(e=>e.filter(e=>e.id!==t.id)),204==(await (0,x.ly)(t)).status?e({title:"Member Removed Successfully",description:"".concat(t.firstName," ").concat(t.lastName," was successfully deleted")}):e({title:"Member Couldn't be deleted",description:"".concat(t.firstName," ").concat(t.lastName," unable to be deleted")}),y===t.id&&(N(null),j(v))};return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)(h.Zp,{className:"p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-4",children:y?"Edit Team Member":"Add New Team Member"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)(p.A,{id:"firstName",htmlFor:"firstName",onChange:j,placeholder:"First Name",value:g.firstName,title:"First Name",type:"TEXT"}),(0,s.jsx)(p.A,{id:"lastName",htmlFor:"lastName",onChange:j,placeholder:"Last Name",value:g.lastName,title:"Last Name",type:"TEXT"})]}),(0,s.jsx)(p.A,{id:"image",htmlFor:"image",onChange:j,placeholder:"Upload your image",value:g.role,title:"Upload your Image",type:"IMAGE",setFileName:w}),(0,s.jsx)(p.A,{id:"role",htmlFor:"role",onChange:j,placeholder:"Website Head",value:g.role,title:"Role",type:"TEXT"}),y?(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(r.$,{onClick:S,className:"flex-1",children:[(0,s.jsx)(c.A,{className:"h-4 w-4 mr-2"})," Update Member"]}),(0,s.jsx)(r.$,{variant:"outline",onClick:()=>{N(null),j(v)},children:"Cancel"})]}):(0,s.jsxs)(r.$,{onClick:A,className:"w-full",children:[(0,s.jsx)(o.A,{className:"h-4 w-4 mr-2"})," Add Team Member"]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium",children:"Current Team Members"}),0===t.length?(0,s.jsx)("p",{className:"text-gray-500 italic",children:"No team members added yet."}):(0,s.jsx)(l.nD,{type:"single",collapsible:!0,className:"w-full",children:t.map(e=>(0,s.jsxs)(l.As,{value:e.id,children:[(0,s.jsx)(l.$m,{children:(0,s.jsxs)("div",{className:"flex justify-between items-center w-full pr-4",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(d,{className:"h-4 w-4 mr-2 text-gray-500"}),(0,s.jsxs)("span",{children:[e.firstName," ",e.lastName]})]}),(0,s.jsx)("span",{className:"text-sm text-gray-500 mr-4",children:e.role})]})}),(0,s.jsx)(l.ub,{children:(0,s.jsxs)("div",{className:"p-4 space-y-4",children:[(0,s.jsx)("div",{className:"flex gap-4",children:e.image&&(0,s.jsx)("img",{src:e.image,alt:"".concat(e.firstName," ").concat(e.lastName),className:"w-24 h-24 object-cover rounded-full"})}),(0,s.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,s.jsxs)(r.$,{size:"sm",variant:"outline",onClick:()=>C(e),children:[(0,s.jsx)(m.A,{className:"h-4 w-4 mr-1"})," Edit"]}),(0,s.jsxs)(r.$,{size:"sm",variant:"destructive",onClick:()=>k(e),children:[(0,s.jsx)(u.A,{className:"h-4 w-4 mr-1"})," Delete"]})]})]})})]},e.id))}),(0,s.jsxs)(r.$,{onClick:()=>{localStorage.setItem("teamMembersData",JSON.stringify(t)),e({title:"Changes saved",description:"Team members have been updated successfully."})},className:"w-full mt-4",children:[(0,s.jsx)(c.A,{className:"h-4 w-4 mr-2"})," Save All Changes"]})]})]})}},4574:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/page",function(){return a(3523)}])},5806:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var s=a(7876),i=a(4232),r=a(7041),l=a(8971),n=a(4587),c=a.n(n),o=a(7739),d=a(53),m=a(4725),u=a(1354),h=a(5104),p=a(345),x=a(5495),f=a(2436);let v=()=>{let e={title:"",description:"",images:[]},[t,a]=(0,i.useState)(!0),[n,v]=(0,i.useState)(e);(0,i.useEffect)(()=>{(async()=>{v(e={title:"PEC Robotics Society",description:"Pushing the boundaries of innovation through robotics and automation",images:await (0,x.ts)("hero")}),a(!1)})()},[]);let{toast:g}=(0,m.dj)(),[j,y]=(0,i.useState)("");(0,i.useEffect)(()=>{let e=localStorage.getItem("heroData");if(e)try{v(JSON.parse(e))}catch(e){console.error("Failed to parse saved hero data:",e)}},[]);let N=e=>{v(t=>({...t,images:t.images.filter((t,a)=>a!==e)}))};return(0,s.jsx)(f.a,{isLoading:t,children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{htmlFor:"title",children:"Title"}),(0,s.jsx)(l.p,{id:"title",value:n.title,onChange:e=>v(t=>({...t,title:e.target.value})),placeholder:"Enter hero title"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{htmlFor:"description",children:"Description"}),(0,s.jsx)(o.T,{id:"description",value:n.description,onChange:e=>v(t=>({...t,description:e.target.value})),placeholder:"Enter hero description"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(d.J,{children:"Background Images"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 h-[260px]",children:n.images.map((e,t)=>(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("div",{className:"relative w-full h-full",children:(0,s.jsx)(c(),{src:e,alt:"Background ".concat(t+1),fill:!0,className:"object-contain w-full h-auto"})}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-md",children:(0,s.jsxs)(r.$,{variant:"destructive",size:"sm",onClick:()=>N(t),children:[(0,s.jsx)(u.A,{className:"h-4 w-4 mr-1"})," Remove"]})})]},t))}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(l.p,{value:j,onChange:e=>y(e.target.value),placeholder:"Enter image URL"}),(0,s.jsxs)(r.$,{onClick:()=>{if(!j.trim()){g({title:"Error",description:"Please enter an image URL",variant:"destructive"});return}v(e=>({...e,images:[...e.images,j]})),y("")},children:[(0,s.jsx)(h.A,{className:"h-4 w-4 mr-1"})," Add Image"]})]})]}),(0,s.jsxs)(r.$,{onClick:()=>{localStorage.setItem("heroData",JSON.stringify(n)),g({title:"Changes saved",description:"Hero section has been updated successfully."})},className:"mt-6 w-full",size:"lg",children:[(0,s.jsx)(p.A,{className:"h-4 w-4 mr-2"})," Save Changes"]})]})})}},7739:(e,t,a)=>{"use strict";a.d(t,{T:()=>l});var s=a(7876),i=a(4232),r=a(4317);let l=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...i})});l.displayName="Textarea"},8860:(e,t,a)=>{"use strict";a.d(t,{dr:()=>c,fP:()=>l,jy:()=>d,ly:()=>o});var s=a(5263),i=a(5495),r=a(4317);let l=async()=>{let{data:e,error:t}=await s.S.from("team").select("*");if(t&&console.log(t),!e)throw Error("Could not fetch Team Members");return JSON.parse(JSON.stringify(e))},n=async e=>{let{data:t,error:a}=await s.S.from("team").select().eq("id",e);if(a&&console.log(a),!t)throw Error("Project with this id doesn't exist");return JSON.parse(JSON.stringify(t[0]))},c=async(e,t)=>{await (0,i.V6)("team",t,e.image);let{data:a}=s.S.storage.from("media").getPublicUrl("team/".concat(t)),{id:r,...l}=e,{error:n}=await s.S.from("team").insert({...l,image:a.publicUrl});return n?(console.log(n),{error:n}):{error:null}},o=async e=>(await (0,i.vS)(["projects/".concat(e.image.split("/").pop())]),await s.S.from("team").delete().eq("id",e.id)),d=async(e,t)=>{let a=await n(e.id);await (0,i.vS)(["team/".concat(a.image.split("/").pop())]);let{id:l,...c}=e;if(!await (0,i.V6)("team",t,e.image))return Error("Image Upload Failed");let{data:o}=s.S.storage.from("media").getPublicUrl("team/".concat(t)),{error:d}=await s.S.from("team").update({...c,image:o.publicUrl}).eq("id",e.id);if(d){let e=await (0,r.W6)(a.image);await (0,i.V6)("projects",a.image.split("/").pop(),e),console.log(d)}return d}}},e=>{var t=t=>e(e.s=t);e.O(0,[352,361,466,522,587,230,52,875,546,314,578,995,720,216,172,213,244,636,593,792],()=>t(4574)),_N_E=e.O()}]);