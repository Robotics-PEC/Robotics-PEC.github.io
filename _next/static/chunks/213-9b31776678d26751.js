"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[213],{2213:(e,s,t)=>{t.r(s),t.d(s,{default:()=>N});var a=t(7876),i=t(4232),l=t(7041),r=t(8971),c=t(53),n=t(457),d=t(4725),o=t(345),m=t(5104),h=t(3654),x=t(3022),p=t(1354),g=t(727),j=t(2669),u=t(9720);let v=[{id:"1",title:"Annual Robotics Competition",shortDescription:"Showcase your robotics skills in our yearly competition",description:"Join us for our flagship event where teams compete to build the most innovative and efficient robots to complete a series of challenging tasks.",date:"2023-12-15",time:"10:00 AM - 5:00 PM",location:"PEC Main Auditorium",capacity:"200",imageUrl:"/projects/robot1.jpg",registrationUrl:"https://example.com/register",tags:["Competition","Annual Event","Prizes"]}],N=()=>{let{toast:e}=(0,d.dj)(),[s,t]=(0,i.useState)(v),[N,y]=(0,i.useState)({id:"",title:"",shortDescription:"",description:"",date:"",time:"",location:"",capacity:"",imageUrl:"",registrationUrl:"",tags:[]}),[f,U]=(0,i.useState)(null),[C,D]=(0,i.useState)("");(0,i.useEffect)(()=>{let e=localStorage.getItem("eventsData");if(e)try{t(JSON.parse(e))}catch(e){console.error("Failed to parse saved events data:",e)}},[]);let w=e=>{y(e),U(e.id)},b=e=>{t(s=>s.filter(s=>s.id!==e)),f===e&&(U(null),y({id:"",title:"",shortDescription:"",description:"",date:"",time:"",location:"",capacity:"",imageUrl:"",registrationUrl:"",tags:[]}))},k=()=>{C.trim()&&(y(e=>({...e,tags:[...e.tags||[],C.trim()]})),D(""))},A=e=>{y(s=>({...s,tags:s.tags.filter((s,t)=>t!==e)}))};return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)(g.Zp,{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium mb-4",children:f?"Edit Event":"Add New Event"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{htmlFor:"title",children:"Title"}),(0,a.jsx)(r.p,{id:"title",value:N.title,onChange:e=>y(s=>({...s,title:e.target.value})),placeholder:"Event title"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{htmlFor:"shortDescription",children:"Short Description"}),(0,a.jsx)(r.p,{id:"shortDescription",value:N.shortDescription,onChange:e=>y(s=>({...s,shortDescription:e.target.value})),placeholder:"Brief event description"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{htmlFor:"description",children:"Detailed Description (Markdown)"}),(0,a.jsx)(j.default,{value:N.description,onChange:e=>y(s=>({...s,description:e})),placeholder:"Write detailed event description using Markdown"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{htmlFor:"date",children:"Date"}),(0,a.jsx)(r.p,{id:"date",type:"date",value:N.date,onChange:e=>y(s=>({...s,date:e.target.value}))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{htmlFor:"time",children:"Time"}),(0,a.jsx)(r.p,{id:"time",value:N.time,onChange:e=>y(s=>({...s,time:e.target.value})),placeholder:"e.g., 10:00 AM - 2:00 PM"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{htmlFor:"location",children:"Location"}),(0,a.jsx)(r.p,{id:"location",value:N.location,onChange:e=>y(s=>({...s,location:e.target.value})),placeholder:"Event location"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{htmlFor:"capacity",children:"Capacity"}),(0,a.jsx)(r.p,{id:"capacity",value:N.capacity,onChange:e=>y(s=>({...s,capacity:e.target.value})),placeholder:"Maximum number of participants"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{htmlFor:"imageUrl",children:"Image URL"}),(0,a.jsx)(r.p,{id:"imageUrl",value:N.imageUrl,onChange:e=>y(s=>({...s,imageUrl:e.target.value})),placeholder:"URL to event image"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{htmlFor:"registrationUrl",children:"Registration URL"}),(0,a.jsx)(r.p,{id:"registrationUrl",value:N.registrationUrl,onChange:e=>y(s=>({...s,registrationUrl:e.target.value})),placeholder:"URL for registration"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{children:"Tags"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(r.p,{value:C,onChange:e=>D(e.target.value),placeholder:"Add a tag",onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),k())}}),(0,a.jsx)(l.$,{type:"button",onClick:k,children:"Add"})]}),N.tags&&N.tags.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:N.tags.map((e,s)=>(0,a.jsxs)("div",{className:"bg-secondary text-secondary-foreground px-3 py-1 rounded-full flex items-center gap-1",children:[e,(0,a.jsx)("button",{type:"button",onClick:()=>A(s),className:"text-gray-500 hover:text-gray-700",children:"\xd7"})]},s))})]}),f?(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(l.$,{onClick:()=>{f&&(t(e=>e.map(e=>e.id===f?N:e)),U(null),y({id:"",title:"",shortDescription:"",description:"",date:"",time:"",location:"",capacity:"",imageUrl:"",registrationUrl:"",tags:[]}))},className:"flex-1",children:[(0,a.jsx)(o.A,{className:"h-4 w-4 mr-2"})," Update Event"]}),(0,a.jsx)(l.$,{variant:"outline",onClick:()=>{U(null),y({id:"",title:"",shortDescription:"",description:"",date:"",time:"",location:"",capacity:"",imageUrl:"",registrationUrl:"",tags:[]})},children:"Cancel"})]}):(0,a.jsxs)(l.$,{onClick:()=>{if(!N.title||!N.date){e({title:"Error",description:"Title and date are required",variant:"destructive"});return}let s=Date.now().toString();t(e=>[...e,{...N,id:s}]),y({id:"",title:"",shortDescription:"",description:"",date:"",time:"",location:"",capacity:"",imageUrl:"",registrationUrl:"",tags:[]})},className:"w-full",children:[(0,a.jsx)(m.A,{className:"h-4 w-4 mr-2"})," Add Event"]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Current Events"}),0===s.length?(0,a.jsx)("p",{className:"text-gray-500 italic",children:"No events added yet."}):(0,a.jsx)(n.nD,{type:"single",collapsible:!0,className:"w-full",children:s.map(e=>(0,a.jsxs)(n.As,{value:e.id,children:[(0,a.jsx)(n.$m,{children:(0,a.jsxs)("div",{className:"flex justify-between items-center w-full pr-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-2 text-gray-500"}),(0,a.jsx)("span",{children:e.title})]}),(0,a.jsx)("span",{className:"text-sm text-gray-500 mr-4",children:e.date})]})}),(0,a.jsx)(n.ub,{children:(0,a.jsxs)("div",{className:"p-4 space-y-4",children:[(0,a.jsxs)("div",{className:"flex gap-4",children:[e.imageUrl&&(0,a.jsx)("img",{src:e.imageUrl,alt:e.title,className:"w-24 h-24 object-cover rounded"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Short Description:"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.shortDescription}),(0,a.jsx)("p",{className:"text-sm font-medium",children:"Full Description:"}),(0,a.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,a.jsx)(u.oz,{children:e.description})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Date:"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.date})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Time:"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.time})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Location:"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.location})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Capacity:"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.capacity})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Registration URL:"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 truncate",children:e.registrationUrl?(0,a.jsx)("a",{href:e.registrationUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:e.registrationUrl}):"Not specified"})]})}),e.tags&&e.tags.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Tags:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:e.tags.map((e,s)=>(0,a.jsx)("span",{className:"bg-secondary text-secondary-foreground px-2 py-1 text-xs rounded-full",children:e},s))})]}),(0,a.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,a.jsxs)(l.$,{size:"sm",variant:"outline",onClick:()=>w(e),children:[(0,a.jsx)(x.A,{className:"h-4 w-4 mr-1"})," Edit"]}),(0,a.jsxs)(l.$,{size:"sm",variant:"destructive",onClick:()=>b(e.id),children:[(0,a.jsx)(p.A,{className:"h-4 w-4 mr-1"})," Delete"]})]})]})})]},e.id))}),(0,a.jsxs)(l.$,{onClick:()=>{localStorage.setItem("eventsData",JSON.stringify(s)),e({title:"Changes saved",description:"Events have been updated successfully."})},className:"w-full mt-4",children:[(0,a.jsx)(o.A,{className:"h-4 w-4 mr-2"})," Save All Changes"]})]})]})}}}]);